import{j as a}from"./jsx-runtime-DF5SV9au.js";import{r as s}from"./index-TjLUG_Bo.js";import{l as O,M as d,L as f,a as M,ae as me,W as k,a6 as pe,R as xe,j as fe,d as G,af as he,ag as be,ah as q,k as J,ai as je,q as j,H as ve,i as ye,aj as H,F as Z,K as Y,ak as we,al as Ne,am as Se,an as Ce}from"./index-B1yGdhtz.js";import{u as ee}from"./embla-carousel-react.esm-KU9cekPH.js";import{d as ke}from"./differenceInDays-f7lEgFzC.js";import{g as _e}from"./utils-D9K4jSdz.js";import{g as Me}from"./seo-CnldTrz-.js";var ae=s.createContext({}),ze=e=>a.jsx(ae.Provider,{value:{campaigns:e.campaigns,href:e.href,backgroundSrc:e.backgroundSrc},children:e.children}),Le=()=>s.useContext(ae),V=25,K=6,Ie=e=>{var t;return e.currentCampaigns.length===0?null:a.jsxs(k,{width:"100%",intensity:900,p:3,className:d("oui-mobile-trading-leaderboard-campaigns oui-rounded-[20px]",e.className),style:e.style,children:[a.jsx(Te,{...e}),a.jsx(k,{r:"xl",mt:3,ref:e.enableScroll?e.emblaRef:void 0,className:d("oui-w-full oui-min-w-0 oui-overflow-hidden","oui-select-none oui-cursor-pointer"),children:a.jsx(f,{children:e.currentCampaigns.map(i=>a.jsx(De,{campaign:i},i.title))})}),e.enableScroll&&a.jsx(Re,{style:{width:V*e.currentCampaigns.length},list:e.currentCampaigns,scrollIndex:e.scrollIndex,scrollTo:(t=e.emblaApi)==null?void 0:t.scrollTo})]})},Te=e=>{let{t}=M();return a.jsxs(f,{justify:"between",itemAlign:"center",children:[a.jsx(j,{size:"base",intensity:80,children:t("tradingLeaderboard.campaigns")}),a.jsx(Z.options,{size:"xs",value:e.category,onValueChange:e.onCategoryChange,options:e.options,classNames:{trigger:"oui-w-[--radix-select-content-available-width]"}})]})},De=({campaign:e})=>{let{title:t,description:i,image:r,displayTime:n,learnMoreUrl:o,tradingUrl:g}=e,{t:m}=M();return a.jsxs(k,{intensity:800,r:"xl",className:"oui-flex-[0_0_100%]",children:[a.jsx("img",{className:"oui-w-full oui-h-[calc((100vw-48px)/2)] oui-rounded-t-xl oui-object-fill",src:r,alt:t}),a.jsxs(f,{itemAlign:"start",justify:"between",direction:"column",height:"100%",p:4,gapY:3,className:"oui-font-semibold",children:[a.jsxs(f,{direction:"column",itemAlign:"start",gapY:1,children:[a.jsx(j,{size:"sm",children:t}),a.jsx(j,{size:"2xs",intensity:54,children:n}),a.jsx(j,{size:"2xs",intensity:36,children:i})]}),a.jsxs(f,{justify:"between",width:"100%",gapX:3,children:[a.jsx(Y,{variant:"outlined",color:"secondary",fullWidth:!0,size:"md",onClick:()=>{window.open(o,"_blank")},children:m("tradingLeaderboard.learnMore")}),a.jsx(Y,{size:"md",fullWidth:!0,onClick:()=>{window.open(g,"_self")},children:m("tradingLeaderboard.tradeNow")})]})]})]})},Re=e=>{let{style:t,scrollIndex:i,list:r}=e;return a.jsxs(f,{mt:3,r:"full",height:K,className:d("oui-bg-line oui-mx-auto oui-relative"),style:e.style,children:[r.map((n,o)=>a.jsx(k,{width:V,height:K,onClick:()=>{var g;(g=e.scrollTo)==null||g.call(e,o)},r:"full",className:"oui-cursor-pointer"},o)),a.jsx(k,{width:V,height:K,r:"full",className:d("oui-absolute oui-left-0 oui-top-0","oui-transition-all oui-duration-300","oui-bg-primary"),style:{transform:`translateX(${i*V}px)`}})]})},B=e=>({from:we(new Date,e-1),to:new Date}),R=e=>Ne(e,"yyyy-MM-dd");function Fe(e){let t=e.getUTCFullYear(),i=e.getUTCMonth(),r=e.getUTCDate(),n=String(e.getUTCHours()).padStart(2,"0"),o=String(e.getUTCMinutes()).padStart(2,"0");return{year:t,month:i,day:r,hours:n,minutes:o}}function X(e){let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];typeof e=="string"&&(e=new Date(e));let{year:i,month:r,day:n,hours:o,minutes:g}=Fe(e);return`${t[r]} ${n}, ${i} ${o}:${g}`}function $e(){let{t:e}=M(),{campaigns:t=[],href:i}=Le(),[r,n]=s.useState("ongoing"),{track:o,tracking:g}=me(),m=s.useMemo(()=>{let c=new Date;return t.reduce((l,b)=>{let v=new Date(b.startTime),I=new Date(b.endTime);return c>=v&&c<=I?l.ongoing.push(b):c>I?l.past.push(b):l.future.push(b),l},{ongoing:[],past:[],future:[]})},[t]),h=s.useMemo(()=>[{label:e("tradingLeaderboard.ongoing"),value:"ongoing"},{label:e("tradingLeaderboard.future"),value:"future"},{label:e("tradingLeaderboard.past"),value:"past"}].filter(c=>m[c.value].length>0),[m,e]),S=s.useMemo(()=>m[r].map(c=>{let{startTime:l,endTime:b}=c,v,I=i==null?void 0:i.trading;return typeof c.href=="object"?(v=c.href.learnMore,I=c.href.trading):v=c.href,{...c,displayTime:`${X(l)} - ${X(b)} UTC`,learnMoreUrl:v,tradingUrl:I}}),[m,r,i]);s.useEffect(()=>{let c=["ongoing","future","past"].find(l=>m[l].length>0);c&&n(c)},[m]);let p=c=>{n(c)},[_,C]=s.useState(0),[N,y]=ee({loop:!1,slidesToScroll:"auto"});s.useEffect(()=>{y==null||y.on("select",()=>{C(y==null?void 0:y.selectedScrollSnap())})},[y]);let z=c=>{o(H.leaderboardCampaignClickLearnMore,{campaign_title:c.title}),window.open(c.learnMoreUrl,"_blank")},L=c=>{g(H.leaderboardCampaignClickTradeNow,{campaign_title:c.title}),window.open(c.tradingUrl,"_self")};return{options:h,currentCampaigns:S,category:r,onCategoryChange:p,tradingUrl:i==null?void 0:i.trading,emblaRef:N,emblaApi:y,scrollIndex:_,enableScroll:(S==null?void 0:S.length)>1,onLearnMore:z,onTradeNow:L}}var Ae=e=>e.currentCampaigns.length===0?null:a.jsxs(k,{width:"100%",intensity:900,p:5,pr:2,height:288,className:d("oui-trading-leaderboard-campaigns oui-rounded-[20px]",e.className),style:e.style,children:[a.jsx(Pe,{...e}),a.jsx(k,{mt:5,r:"xl",className:d("oui-overflow-y-auto","oui-custom-scrollbar"),children:a.jsx(f,{gapY:5,height:200,direction:"column",r:"xl",className:"oui-pr-1.5",children:e.currentCampaigns.map(t=>a.jsx(Ee,{campaign:t,onLearnMore:e.onLearnMore,onTradeNow:e.onTradeNow},t.title))})})]}),Pe=e=>{let{t}=M();return a.jsxs(f,{justify:"between",itemAlign:"center",pr:3,children:[a.jsx(j,{size:"xl",children:t("tradingLeaderboard.campaigns")}),a.jsx(Z.options,{size:"xs",value:e.category,onValueChange:e.onCategoryChange,options:e.options,classNames:{trigger:"oui-w-[--radix-select-content-available-width]"}})]})},Ee=({campaign:e,onLearnMore:t,onTradeNow:i})=>{let{title:r,description:n,image:o,displayTime:g}=e,{t:m}=M();return a.jsxs(f,{intensity:800,r:"xl",width:"100%",children:[a.jsx("img",{className:"oui-h-[200px] oui-w-[400px] oui-rounded-l-xl oui-object-fill",src:o,alt:r}),a.jsxs(f,{itemAlign:"start",justify:"between",direction:"column",height:"100%",p:5,className:"oui-flex-1 oui-font-semibold",children:[a.jsxs(f,{gap:1,direction:"column",itemAlign:"start",children:[a.jsx(j,{size:"xl",children:r}),a.jsx(j,{size:"sm",intensity:36,children:n})]}),a.jsxs(f,{justify:"between",width:"100%",children:[a.jsx(j,{size:"xs",intensity:54,children:g}),a.jsxs(f,{gap:3,children:[a.jsx(Y,{variant:"outlined",color:"secondary",size:"md",onClick:()=>{t(e)},children:m("tradingLeaderboard.learnMore")}),a.jsx(Y,{size:"md",onClick:()=>{i(e)},children:m("tradingLeaderboard.tradeNow")})]})]})]})]})},re=e=>{let t=$e(),{isMobile:i}=O();return i?a.jsx(Ie,{...t,className:e.className,style:e.style}):a.jsx(Ae,{...t,className:e.className,style:e.style})};function Ue(e,t){let i=s.useRef(),r=s.useRef(t);r.current=t,s.useEffect(()=>{let n={root:null,rootMargin:"0px",threshold:0},o=g=>{g.forEach(m=>{var h;m.isIntersecting&&((h=r.current)==null||h.call(r))})};return i.current=new IntersectionObserver(o,n),()=>{var g;(g=i.current)==null||g.disconnect()}},[]),s.useEffect(()=>{var n;e.current&&((n=i.current)==null||n.observe(e.current))},[e.current])}var Ve=[7,14,30,90];function Ye(){let[e,t]=s.useState(""),[i]=s.useState({sortKey:"perp_volume",sort:"desc"}),[r,n]=s.useState(i),{state:o}=pe(),g=xe("brokerId"),{isMobile:m}=O(),{dateRange:h,filterDay:S,updateFilterDay:p,filterItems:_,onFilter:C}=Oe(),{page:N,pageSize:y,setPage:z,parsePagination:L}=fe({pageSize:100}),c=u=>{let x=new URLSearchParams;if(x.set("page",u.page.toString()),x.set("size",u.pageSize.toString()),x.set("aggregateBy","address_per_builder"),g&&x.set("broker_id",g),u.sort)x.set("sort",u.sort);else if(u.sort!==null&&r){let w=r.sort==="asc"?"ascending":"descending";x.set("sort",`${w}_${r.sortKey}`)}return h.from&&x.set("start_date",R(h.from)),h.to&&x.set("end_date",R(h.to)),u.address&&x.set("address",u.address),`/v1/broker/leaderboard/daily?${x.toString()}`},{data:l,isLoading:b}=G(c({page:N,pageSize:y,address:e}),{formatter:u=>u,revalidateOnFocus:!1}),{data:v,size:I,setSize:oe,isValidating:Q}=he((u,x)=>{var w;return x&&!((w=x.rows)!=null&&w.length)||!m?null:c({page:u+1,pageSize:y,address:e})},{initialSize:1,formatter:u=>u,revalidateOnFocus:!1}),{data:A}=G(o.address?c({page:1,pageSize:100,sort:`descending_${(r==null?void 0:r.sortKey)||"perp_volume"}`}):null,{formatter:u=>u,revalidateOnFocus:!1}),{data:F=[]}=be(o.address?c({page:1,pageSize:1,address:o.address,sort:null}):null,{revalidateOnFocus:!1}),P=s.useCallback(u=>{let x=A==null?void 0:A.rows.findIndex(w=>Ke(w.address,u));return x!==-1?x+1:"100+"},[A]),E=s.useMemo(()=>!o.address||b?[]:F.length?F==null?void 0:F.map(u=>({...u,rank:P(u.address),key:$(u.address)})):[{key:$(o.address),address:o.address,rank:"-"}],[o.address,F,b,P]),U=s.useCallback((u,x)=>u==null?void 0:u.map((w,D)=>{let T=D+1;return e?T=P(w.address):(r==null?void 0:r.sort)==="asc"?T=x-(N-1)*y-D:(r==null?void 0:r.sort)==="desc"&&(T=(N-1)*y+D+1),{...w,rank:T}}),[N,y,r,e,P]),se=s.useMemo(()=>{let u=(l==null?void 0:l.rows)||[],x=(l==null?void 0:l.meta.total)||0,w=U(u,x);return N===1&&!e?[...E,...w]:w},[l,N,E,e,U]),ne=s.useMemo(()=>{var D,T;if(!(v!=null&&v.length))return[];let u=((D=v[0])==null?void 0:D.meta.total)||0,x=(T=v==null?void 0:v.map(ge=>ge.rows))==null?void 0:T.flat(),w=U(x,u);return e?w:[...E,...w]},[v,E,e,U]),W=s.useRef(null),le=s.useMemo(()=>L(l==null?void 0:l.meta),[L,l]);Ue(W,()=>{!Q&&m&&oe(I+1)});let ue=u=>{t(u)},de=s.useCallback(()=>{t("")},[]),ce=s.useCallback(u=>{n(u||i)},[i]);return s.useEffect(()=>{e&&z(1)},[e]),s.useEffect(()=>{z(1)},[o.address]),s.useEffect(()=>{h.to&&h.from&&z(1)},[h]),{pagination:le,dateRange:h,filterDay:S,updateFilterDay:p,filterItems:_,onFilter:C,initialSort:i,onSort:ce,dataSource:se,isLoading:b||Q,searchValue:e,onSearchValueChange:ue,clearSearchValue:de,isMobile:m,sentinelRef:W,dataList:ne,address:o.address}}var Oe=()=>{let[e,t]=s.useState(90),[i,r]=s.useState(B(90)),n=g=>{t(g),r(B(g))},o=g=>{if(g.name==="dateRange"){let m=g.value;if(r(m),m.from&&m.to){let h=Math.abs(ke(m.from,m.to))+1,S=B(h);R(S.from)===R(m.from)&&R(S.to)===R(m.to)?t(h):t(null)}}};return{filterItems:s.useMemo(()=>[{type:"range",name:"dateRange",value:i,max:90}],[i]),onFilter:o,dateRange:i,filterDay:e,updateFilterDay:n}};function Ke(e,t){return e.toLowerCase()===t.toLowerCase()}function $(e){return`current-address-${e==null?void 0:e.toLowerCase()}`}var te=e=>{let{t}=M(),{isMobile:i}=O();return s.useMemo(()=>[{title:t("tradingLeaderboard.rank"),dataIndex:"rank",width:40,render:r=>a.jsx(k,{width:20,className:"oui-text-center",children:r})},{title:t("common.address"),dataIndex:"address",render:(r,n)=>{let o=n.key===$(e);return i&&o?a.jsx(j,{children:"You"}):a.jsxs(a.Fragment,{children:[a.jsx(j.formatted,{rule:"address",children:r}),o&&a.jsx(j,{children:" (You)"})]})},width:90},{title:t("tradingLeaderboard.tradingVolume"),dataIndex:"perp_volume",onSort:!0,render:r=>r?a.jsx(j.numeral,{prefix:"$",rule:"price",dp:2,children:r}):"-",width:105},{title:t("common.realizedPnl"),dataIndex:"realized_pnl",onSort:!0,align:i?"right":"left",render:r=>r?a.jsx(j.numeral,{prefix:"$",rule:"price",dp:2,coloring:!0,children:r}):"-",width:90}],[t,i,e])},Be=e=>{let t=te(e.address);return a.jsxs(f,{direction:"column",width:"100%",itemAlign:"start",intensity:900,r:"2xl",px:4,style:e.style,className:d("oui-mobile-trading-leaderboard-trading-list",e.className),children:[a.jsx(f,{width:"100%",justify:"between",itemAlign:"center",className:d("oui-mobile-trading-leaderboard-trading-filter"),children:e.filterItems.length>0&&a.jsx(q,{items:e.filterItems,onFilter:i=>{e.onFilter(i)},className:"oui-h-[40px] oui-border-none"})}),a.jsx(J,{classNames:{root:"oui-pb-4",body:"oui-text-2xs",scroll:"oui-overflow-y-hidden oui-h-full"},loading:e.isLoading,id:"oui-trading-leaderboard-trading-table",columns:t,initialSort:e.initialSort,onSort:e.onSort,dataSource:e.dataList,generatedRowKey:i=>i.key||i.address,manualPagination:!0,manualSorting:!0,onRow:(i,r)=>({className:d("oui-h-[30px]")}),onCell:(i,r,n)=>{if(r.key===$(e.address)){let o=i.getIsFirstColumn(),g=i.getIsLastColumn();return{className:d("after:oui-absolute after:oui-h-[30px] after:oui-w-full","after:oui-border-[rgb(var(--oui-gradient-brand-start))]"," after:oui-left-0 after:oui-top-0 after:oui-z-[-1]","after:oui-border-y",o&&"after:oui-rounded-l-lg after:oui-border-l",g&&"after:oui-rounded-r-lg  after:oui-border-r")}}return{}}}),a.jsx("div",{ref:e.sentinelRef,className:"oui-invisible oui-relative oui-top-[-300px] oui-h-px"}),e.isLoading&&e.dataList.length>0&&a.jsx(f,{itemAlign:"center",justify:"center",width:"100%",height:40,children:a.jsx(je,{size:"sm"})})]})},Qe=e=>{let t=te(e.address),{t:i}=M();return a.jsxs(f,{direction:"column",width:"100%",itemAlign:"start",intensity:900,r:"2xl",px:4,style:e.style,className:d("oui-trading-leaderboard-trading-list",e.className),children:[a.jsxs(f,{width:"100%",justify:"between",itemAlign:"center",mt:2,className:d("oui-trading-leaderboard-trading-filter","oui-border-b oui-border-line"),children:[a.jsxs(f,{gap:3,children:[e.filterItems.length>0&&a.jsx(q,{items:e.filterItems,onFilter:r=>{e.onFilter(r)},className:"oui-h-[53px] oui-border-none"}),Ve.map(r=>a.jsxs("button",{className:"oui-relative oui-px-2 oui-py-[2px] oui-text-sm",children:[a.jsx("div",{className:"oui-z-10",children:a.jsx(j.gradient,{color:e.filterDay===r?"brand":void 0,className:e.filterDay!==r?"oui-text-base-contrast-54":"",children:`${r}D`})}),a.jsx("div",{className:"oui-absolute oui-inset-0 oui-rounded oui-opacity-[.12] oui-gradient-primary",onClick:()=>{e.updateFilterDay(r)}})]},r))]}),a.jsx(ve,{value:e.searchValue,onValueChange:e.onSearchValueChange,placeholder:i("common.address.search.placeholder"),className:d("oui-trading-leaderboard-trading-search-input","oui-w-[240px]"),size:"sm",prefix:a.jsx(k,{pl:3,pr:1,children:a.jsx(We,{className:"oui-text-base-contrast-36"})}),suffix:e.searchValue&&a.jsx(k,{mr:2,children:a.jsx(ye,{size:14,className:"oui-cursor-pointer oui-text-base-contrast-36",onClick:e.clearSearchValue})}),autoComplete:"off"})]}),a.jsx(J,{loading:e.isLoading,id:"oui-trading-leaderboard-trading-table",columns:t,initialSort:e.initialSort,onSort:e.onSort,bordered:!0,dataSource:e.dataSource,generatedRowKey:r=>r.key||r.address,manualPagination:!0,manualSorting:!0,pagination:e.pagination,classNames:{root:"!oui-h-[calc(100%_-_53px_-_8px)]"},onRow:(r,n)=>({className:d("oui-h-[48px]")}),onCell:(r,n,o)=>{if(n.key===$(e.address)){let g=r.getIsFirstColumn(),m=r.getIsLastColumn();return{className:d("after:oui-absolute after:oui-h-[48px] after:oui-w-full","after:oui-border-[rgb(var(--oui-gradient-brand-start))]","after:oui-left-0 after:oui-top-0 after:oui-z-[-1]","after:oui-border-y",g&&"after:oui-rounded-l-lg after:oui-border-l",m&&"after:oui-rounded-r-lg after:oui-border-r")}}return{}}})]})},We=e=>a.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:a.jsx("path",{d:"M5.841 1.14a4.667 4.667 0 0 0 0 9.333 4.74 4.74 0 0 0 2.875-.975l2.54 2.56a.6.6 0 0 0 .838 0 .6.6 0 0 0 0-.838L9.537 8.677a4.72 4.72 0 0 0 .971-2.871 4.667 4.667 0 0 0-4.667-4.667m0 1.166a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7"})}),ie=e=>{let t=Ye();return t.isMobile?a.jsx(Be,{...t,...e}):a.jsx(Qe,{...t,...e})},Ge=e=>a.jsx("div",{style:{paddingBottom:"calc(64px + env(safe-area-inset-bottom))"},className:d("oui-relative oui-grid oui-h-[calc(100vh-44px)] oui-gap-1 oui-bg-base-10","oui-mix-blend-screen",e.className),children:a.jsxs(f,{direction:"column",gapY:3,height:"100%",px:3,pt:3,pb:3,className:d("oui-trading-leaderboard-mobile oui-custom-scrollbar oui-overflow-y-auto","oui-relative oui-h-[calc(100vh_-_64px)]"),children:[e.showCampaigns&&a.jsx(re,{}),a.jsx(ie,{})]})});function He(e){let t=e==null?void 0:e.split(".").pop();return["mp4","webm","avi","ogg"].includes(t??"")}function Xe(e){let{backgroundSrc:t,campaigns:i=[]}=e,{isMobile:r}=O(),n=s.useMemo(()=>(i==null?void 0:i.length)>0,[i]),o=s.useMemo(()=>He(t),[t]);return{backgroundSrc:t,isVideo:o,showCampaigns:n,isMobile:r}}var qe=e=>{let t=()=>{let i="linear-gradient(180deg, rgba(var(--oui-color-base-10) / 0.3) 0%, rgba(var(--oui-color-base-10) / 0) 70%, rgba(var(--oui-color-base-10) / 1) 100%)";if(e.isVideo)return a.jsxs("div",{className:d("oui-absolute oui-top-0 oui-left-0","oui-w-full oui-h-full"),children:[a.jsx("div",{style:{backgroundImage:i,backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:d("oui-absolute oui-top-0 oui-left-0","oui-w-full oui-h-full")}),a.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,className:d("oui-border-none oui-outline-none oui-bg-transparent","oui-w-full oui-h-full","oui-object-cover","oui-opacity-50"),children:[a.jsx("source",{src:e.backgroundSrc,type:"video/mp4"}),a.jsx("source",{src:e.backgroundSrc,type:"video/webm"}),a.jsx("source",{src:e.backgroundSrc,type:"video/ogg"}),a.jsx("source",{src:e.backgroundSrc,type:"video/avi"}),"Your browser does not support the video tag."]})]});if(e.backgroundSrc)return a.jsx("div",{style:{backgroundImage:`${i}, url(${e.backgroundSrc}) `,backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:d("oui-absolute oui-top-0 oui-left-0","oui-w-full oui-h-full","oui-opacity-50")})};return a.jsxs("div",{style:e.style,className:d("oui-h-full oui-mix-blend-screen",e.className),children:[t(),a.jsxs(f,{direction:"column",gapY:5,height:"100%",className:d("oui-trading-leaderboard oui-relative","oui-max-w-[1040px] oui-px-3 oui-mx-auto "),children:[e.showCampaigns&&a.jsx(re,{}),a.jsx(ie,{className:d(e.showCampaigns?"oui-h-[calc(100%_-_288px_-_20px)]":"oui-h-full")})]})]})},Je=e=>{let t=Xe({backgroundSrc:e.backgroundSrc,campaigns:e.campaigns});return a.jsx(ze,{campaigns:e.campaigns,href:e.href,children:t.isMobile?a.jsx(Ge,{...t}):a.jsx(qe,{...t,className:e.className,style:e.style})})};s.createContext({});var Ze=(e=>(e.ONGOING="ongoing",e.COMING="coming",e.ENDED="ended",e.EXCLUSIVE="exclusive",e))(Ze||{}),ea=(e,t)=>{let i=new Date,r=new Date(e.start_time),n=new Date(e.end_time);return e.referral_codes&&e.referral_codes.length>0?!t||!e.referral_codes.includes(t)?"exclusive":i<r?"coming":i>n?"ended":"exclusive":i<r?"coming":i>n?"ended":"ongoing"},aa=({currentCampaignId:e,onCampaignChange:t,style:i,className:r})=>{let{t:n}=M();return a.jsx("div",{className:d(["oui-trading-leaderboard-title","oui-flex oui-items-center oui-justify-center oui-cursor-pointer","oui-bg-base-9 oui-h-[78px] oui-rounded-lg oui-border oui-border-solid",e==="general"?"oui-border-[rgba(var(--oui-gradient-brand-start))]":"oui-border-transparent",r]),style:i,onClick:()=>t("general"),children:n("tradingLeaderboard.generalLeaderboard")})},ra=({active:e,tag:t,onCampaignChange:i,campaign:r,backgroundSrc:n,classNames:o})=>a.jsxs("div",{className:d(["oui-w-full","oui-relative oui-h-[78px] oui-cursor-pointer oui-overflow-hidden oui-rounded-lg oui-bg-white/[0.04]","oui-group oui-border oui-border-solid oui-backdrop-blur-[200px]",e?"oui-border-[rgba(var(--oui-gradient-brand-start))]":"oui-border-transparent","hover:oui-border-base-contrast",o==null?void 0:o.container]),onClick:()=>i(r.campaign_id.toString()),children:[a.jsx(ta,{tag:t,active:e,classNames:o==null?void 0:o.tag}),a.jsx("div",{className:d(["oui-size-full","oui-absolute oui-left-0 oui-top-0","oui-bg-cover oui-bg-center oui-bg-no-repeat oui-bg-blend-luminosity",e?"oui-bg-transparent":"oui-bg-[lightgray] oui-opacity-40","group-hover:oui-bg-transparent group-hover:oui-opacity-100"]),style:{backgroundImage:`url(${(r==null?void 0:r.image)||n})`}}),a.jsxs("div",{className:d(["oui-flex oui-size-full oui-flex-col oui-items-center oui-justify-center oui-gap-1","oui-absolute oui-left-0 oui-top-0 oui-z-10",o==null?void 0:o.content]),children:[a.jsx(j,{weight:"semibold",className:d([e?"oui-text-base-contrast":"oui-text-base-contrast-54","group-hover:oui-text-base-contrast","oui-trading-leaderboard-title","oui-w-3/5 oui-text-center oui-text-sm",o==null?void 0:o.title]),children:r.title}),r.referral_codes&&a.jsx(j,{className:d(["oui-text-base-contrast-54","oui-text-center oui-text-[10px]"]),children:Array.isArray(r.referral_codes)?r.referral_codes.join(","):r.referral_codes})]})]}),ta=({tag:e,active:t,classNames:i})=>{let r=e.slice(0,1).toUpperCase()+e.slice(1);return a.jsx("div",{className:d(["oui-w-fit oui-rounded-br-lg","oui-absolute oui-left-0 oui-top-0 oui-z-10 oui-flex oui-items-center",t&&e!=="coming"?"oui-bg-[rgba(var(--oui-gradient-brand-start))]":"oui-bg-base-4",t&&e!=="ended"&&"group-hover:oui-bg-base-4",e==="ended"&&"oui-bg-base-6 group-hover:oui-bg-base-6",i==null?void 0:i.container]),children:e==="ended"?a.jsx(j,{size:"2xs",weight:"semibold",className:d(["oui-text-base-contrast-54",i==null?void 0:i.text]),children:r}):a.jsx(j.gradient,{size:"2xs",weight:"semibold",color:"brand",className:d([t&&e!=="coming"&&"oui-text-black/[0.88] group-hover:oui-text-transparent",i==null?void 0:i.text]),children:r})})};s.memo(({campaigns:e,currentCampaignId:t,onCampaignChange:i,backgroundSrc:r})=>{let[n,o]=s.useState(!1),[g,m]=s.useState(!1),h=s.useRef(!1),[S,p]=ee({loop:!1,align:"start",containScroll:"keepSnaps",slidesToScroll:1,skipSnaps:!1,dragFree:!1}),_=[{campaign_id:"general",isDefault:!0},...e.map(l=>({...l,isDefault:!1}))],C=s.useCallback(()=>{if(!p||!(e!=null&&e.length)||(o(p.canScrollPrev()),m(p.canScrollNext()),!h.current))return;let l=p.selectedScrollSnap(),b=_[l];if(b){let v=b.isDefault?"general":String(b.campaign_id);v!=t&&i(v)}},[p,e,t,i,_]),N=s.useCallback(()=>{if(!p||!(e!=null&&e.length))return;let l=_.findIndex(b=>(b.isDefault?"general":String(b.campaign_id))===t);l!==-1&&l!==p.selectedScrollSnap()&&p.scrollTo(l,!1),h.current=!0},[p,e,t,_]);s.useEffect(()=>{if(p)return C(),N(),p.on("select",C),p.on("reInit",C),()=>{p.off("select",C),p.off("reInit",C)}},[p,C,N]),s.useEffect(()=>{h.current=!1,p&&N()},[t,N,p]);let y=s.useCallback(()=>{p&&p.scrollPrev()},[p]),z=s.useCallback(()=>{p&&p.scrollNext()},[p]),L={flexBasis:"100%",width:"100%",height:"42px"},c=e.length<1;return a.jsxs("div",{className:"oui-flex oui-w-full oui-items-center oui-gap-2 oui-px-3",children:[a.jsx("button",{onClick:y,disabled:!n,className:`oui-group oui-flex oui-h-[42px] oui-w-6 oui-shrink-0 oui-items-center oui-justify-center oui-rounded-lg oui-transition-colors hover:oui-bg-base-7 disabled:oui-cursor-not-allowed disabled:oui-opacity-30 disabled:hover:oui-bg-transparent ${c?"oui-hidden":""}`,"aria-label":"Previous campaigns",children:a.jsx(Se,{opacity:1,className:"oui-text-base-contrast-54 group-hover:oui-text-base-contrast"})}),a.jsx("div",{className:"oui-min-w-0 oui-flex-1 oui-overflow-hidden",children:a.jsx("div",{ref:S,children:a.jsxs("div",{className:"oui-flex oui-gap-2",children:[a.jsx(aa,{currentCampaignId:t,onCampaignChange:i,style:L,className:"oui-w-full oui-shrink-0"},"general_campaign"),e==null?void 0:e.map(l=>a.jsx("div",{className:"oui-shrink-0",style:L,children:a.jsx(ra,{backgroundSrc:r,campaign:l,tag:ea(l),active:t==l.campaign_id,onCampaignChange:i,classNames:{container:"!oui-h-[42px]",title:"!oui-text-[10px]",content:"!oui-gap-[2px]",tag:{container:"!oui-h-[14px] !oui-px-1 !oui-py-[2px]",text:"!oui-text-[10px]"}}})},l.campaign_id))]})})}),a.jsx("button",{onClick:z,disabled:!g,className:`oui-group oui-flex oui-h-[42px] oui-w-6 oui-shrink-0 oui-items-center oui-justify-center oui-rounded-lg oui-transition-colors hover:oui-bg-base-7 disabled:oui-cursor-not-allowed disabled:oui-opacity-30 disabled:hover:oui-bg-transparent ${c?"oui-hidden":""}`,"aria-label":"Next campaigns",children:a.jsx(Ce,{opacity:1,className:"oui-text-base-contrast-54 group-hover:oui-text-base-contrast"})})]})});const ca=()=>{const e=Me(),t=[{title:_e("Leaderboard")}];return[...e,...t]};function ga(){return a.jsx(Je,{})}export{ga as default,ca as meta};
