import{j as t}from"./jsx-runtime-DF5SV9au.js";import{g as ot}from"./utils-D9K4jSdz.js";import{a6 as re,ag as ee,ao as Ae,ak as v,al as R,a4 as G,G as $,a as j,ap as De,aq as le,ar as nt,as as ke,at as X,L as s,q as u,M as C,au as O,e as y,av as Se,aw as Le,ax as Re,t as U,H as me,ay as he,K as L,Q as E,x as dt,b as pe,v as Te,az as Oe,aA as Pe,I as J,j as se,aB as Ie,a7 as ge,aC as ct,aD as ut,aE as je,aF as we,aG as ft,a3 as _,a8 as K,F,aH as ze,k as xt,aI as W,o as ve,l as Ee,aJ as mt,O as oe,aK as ht,aL as pt,aM as gt}from"./index-B1yGdhtz.js";import{r as f}from"./index-TjLUG_Bo.js";import{D as jt}from"./index-BHYcTakE.js";import{Z as $e}from"./index-BH3VCfp0.js";import{y as ne,T as Ue}from"./index-7JkPJWjm.js";import"./index-DCRsf1dF.js";var wt=Object.defineProperty,vt=(e,i)=>{for(var a in i)wt(e,a,{get:i[a],enumerable:!0})},Ve={};vt(Ve,{AffiliatePage:()=>Ke,DashboardPage:()=>aa,HomePage:()=>ae,TraderPage:()=>et});var be=e=>{let{size:i=16,className:a,...n}=e;return t.jsxs("svg",{width:i,height:i,viewBox:"0 0 16 16",fill:"#fff",fillOpacity:".98",xmlns:"http://www.w3.org/2000/svg",className:e.className,...n,children:[t.jsx("path",{d:"M8 1.302c-3.683 0-6.655 2.985-6.667 6.667-.013 3.676 2.987 6.68 6.666 6.687s6.674-3.037 6.667-6.687c-.007-3.682-2.985-6.667-6.667-6.667m0 1.333a5.333 5.333 0 0 1 5.333 5.334c0 1.5-.625 2.852-1.622 3.821-.49-1.062-1.545-1.821-2.753-1.821H7.04c-1.207 0-2.259.75-2.75 1.812A5.3 5.3 0 0 1 2.666 7.97a5.333 5.333 0 0 1 5.333-5.334M8 3.97a2.667 2.667 0 1 0 0 5.333A2.667 2.667 0 0 0 8 3.97"}),t.jsx("path",{d:"M16 12.667a3.333 3.333 0 1 1-6.667 0 3.333 3.333 0 0 1 6.667 0",fill:"#1828C3"}),t.jsx("path",{d:"M11.917 11.433a.917.917 0 0 0-.917.917c0 .53.302 1.031.802 1.49a4.6 4.6 0 0 0 .713.53l.068.043c.05.027.117.027.167 0l.068-.042q.08-.05.177-.115c.182-.123.366-.26.536-.416.5-.459.802-.96.802-1.49a.917.917 0 0 0-.917-.917.97.97 0 0 0-.744.386.95.95 0 0 0-.756-.386"})]})},ye=e=>{let{size:i=16,className:a,...n}=e;return t.jsxs("svg",{width:i,height:i,viewBox:"0 0 16 16",fill:"white",fillOpacity:"0.36",xmlns:"http://www.w3.org/2000/svg",className:e.className,...n,children:[t.jsx("path",{d:"M7.99929 1.30212C4.31735 1.30212 1.34509 4.28679 1.33262 7.96878C1.32015 11.6454 4.32042 14.6488 7.99929 14.6561C11.6782 14.6634 14.6726 11.6194 14.666 7.96878C14.6593 4.28679 11.6812 1.30212 7.99929 1.30212ZM7.99929 2.63546C10.9448 2.63546 13.3326 5.02345 13.3326 7.96878C13.3326 9.46878 12.7078 10.8208 11.7112 11.7901C11.2202 10.7281 10.1656 9.96878 8.95762 9.96878C8.71802 9.96878 7.28042 9.96878 7.04095 9.96878C5.83369 9.96878 4.78215 10.7188 4.29095 11.7814C3.29429 10.8121 2.66595 9.46878 2.66595 7.96878C2.66595 5.02345 5.05375 2.63546 7.99929 2.63546ZM7.99929 3.96879C6.52649 3.96879 5.33255 5.16279 5.33262 6.63545C5.33262 8.10812 6.52649 9.30212 7.99929 9.30212C9.47202 9.30212 10.666 8.10812 10.666 6.63545C10.666 5.16279 9.47202 3.96879 7.99929 3.96879Z"}),t.jsx("path",{d:"M16 12.6667C16 14.5076 14.5076 16 12.6666 16C10.8257 16 9.33331 14.5076 9.33331 12.6667C9.33331 10.8257 10.8257 9.33333 12.6666 9.33333C14.5076 9.33333 16 10.8257 16 12.6667Z",fill:"#005A4F"}),t.jsx("path",{d:"M14.3325 13.3345C14.3325 13.2918 14.3182 13.2473 14.2857 13.2147L13.6658 12.6002L13.4315 12.8345L13.7595 13.1678H11.3325C11.2405 13.1678 11.1658 13.2425 11.1658 13.3345C11.1658 13.4265 11.2405 13.5012 11.3325 13.5012H13.7595L13.4315 13.8345L13.6658 14.0688L14.2857 13.4543C14.3182 13.4217 14.3325 13.3772 14.3325 13.3345ZM14.1658 12.0012C14.1658 11.9092 14.0912 11.8345 13.9992 11.8345H11.572L11.9002 11.5012L11.6658 11.2668L11.046 11.8813C10.981 11.9465 10.981 12.0558 11.046 12.121L11.6658 12.7355L11.9002 12.5012L11.572 12.1678H13.9992C14.0912 12.1678 14.1658 12.0932 14.1658 12.0012Z",fill:"white",fillOpacity:"0.98"})]})},Y=e=>t.jsxs("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className,children:[t.jsxs("g",{clipPath:"url(#a)",children:[t.jsx("path",{d:"M10.5 20c5.542 0 10-4.458 10-10s-4.458-10-10-10S.5 4.458.5 10s4.458 10 10 10",fill:"#2775CA"}),t.jsx("path",{d:"M13.5 11.473c0-1.452-.94-1.95-2.82-2.158-1.344-.166-1.613-.498-1.613-1.078s.448-.955 1.343-.955c.806 0 1.254.25 1.478.872.045.124.18.207.313.207h.717c.179 0 .313-.125.313-.29v-.042c-.179-.913-.985-1.618-2.015-1.701v-.996c0-.166-.134-.29-.358-.332h-.671c-.18 0-.314.124-.359.332v.954c-1.343.166-2.194.996-2.194 2.034 0 1.369.896 1.908 2.776 2.116 1.254.207 1.657.456 1.657 1.12s-.627 1.12-1.477 1.12c-1.165 0-1.568-.456-1.702-1.078a.32.32 0 0 0-.313-.25h-.762c-.179 0-.313.125-.313.291v.042c.179 1.037.895 1.784 2.373 1.991v.996c0 .166.134.29.358.332h.672c.18 0 .313-.124.358-.332v-.996c1.344-.207 2.239-1.079 2.239-2.199",fill:"#fff",fillOpacity:".98"}),t.jsx("path",{d:"M8.24 16.57c-3.458-1.215-5.23-4.986-3.945-8.324.665-1.821 2.127-3.208 3.944-3.859.178-.086.266-.216.266-.433v-.607c0-.174-.088-.304-.266-.347-.044 0-.133 0-.177.043-4.21 1.3-6.516 5.68-5.186 9.798.798 2.428 2.704 4.292 5.186 5.072.177.087.355 0 .4-.173.043-.043.043-.087.043-.173v-.608c0-.13-.133-.303-.266-.39m4.698-13.527c-.178-.086-.355 0-.4.174-.043.043-.043.086-.043.173v.607c0 .174.133.347.266.434 3.457 1.213 5.23 4.985 3.944 8.323-.664 1.821-2.127 3.209-3.944 3.859-.178.086-.266.216-.266.433v.607c0 .174.088.304.266.347.044 0 .133 0 .177-.043 4.21-1.3 6.515-5.68 5.186-9.798-.798-2.471-2.748-4.335-5.186-5.116",fill:"#fff",fillOpacity:".98"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"a",children:t.jsx("path",{fill:"#fff",d:"M.5 0h20v20H.5z"})})})]}),bt=e=>{let{t:i}=j();return t.jsxs(s,{id:"oui-affiliate-affiliate-summary",r:"2xl",p:6,width:"100%",height:"100%",gap:4,direction:"column",className:"oui-bg-base-9",children:[t.jsx(yt,{...e}),t.jsx(Nt,{...e}),t.jsxs(s,{direction:"column",width:"100%",gap:2,children:[t.jsx(te,{title:`${i("affiliate.referralVol")} (USDC)`,value:e.referralVol,dp:2,...e}),t.jsx(te,{title:i("affiliate.referees"),value:e.referees,dp:0,...e}),t.jsx(te,{title:i("affiliate.summary.refereesTraded"),value:e.refereesTades,dp:0,...e})]})]})},yt=e=>{let{t:i}=j();return t.jsxs(s,{direction:"row",justify:"between",width:"100%",children:[t.jsx(u,{className:"oui-text-lg",children:i("affiliate.summary")}),t.jsx("div",{className:"oui-min-w-14",children:t.jsx(F.options,{size:"xs",value:e.period,onValueChange:e.onPeriodChange,options:e.periodTypes})})]})},Nt=e=>{let{t:i}=j();return t.jsxs(s,{gradient:"primary",angle:180,r:"xl",py:4,px:6,width:"100%",direction:"column",gap:3,height:"100%",className:"oui-max-h-[104px]",children:[t.jsx(u,{intensity:54,className:"oui-text-base 2xl:oui-text-lg",children:`${i("affiliate.commission")} (USDC)`}),t.jsxs(s,{direction:"row",gap:3,className:"oui-text-xl md:oui-text-2xl xl:oui-text-3xl",children:[t.jsx(Y,{className:"md:oui-w-[24px] md:oui-h-[24px] lg:oui-w-[28px] lg:oui-h-[28px] "}),t.jsx(u,{children:_(e.commission,{fix:2,fallback:"0"})})]})]})},te=e=>t.jsxs(s,{direction:"row",justify:"between",width:"100%",children:[t.jsx(u,{intensity:54,className:"oui-text-2xs md:oui-text-xs xl:oui-text-sm",children:e.title}),t.jsx(u,{className:"oui-text-xs md:oui-text-sm xl:oui-text-base",children:_(e.value,{fix:e.dp,fallback:"0"})})]}),Ct=(e=>(e.affiliate="affiliate",e.trader="trader",e))(Ct||{}),He=f.createContext({}),_t=e=>{let{onBecomeAnAffiliate:i,becomeAnAffiliateUrl:a="https://orderly.network/",bindReferralCodeState:n,onLearnAffiliate:r,learnAffiliateUrl:l="https://orderly.network/",referralLinkUrl:o="https://orderly.network/",showReferralPage:x,chartConfig:d,overwrite:p,splashPage:g}=e,{state:m}=re(),{data:c,mutate:w,isLoading:h}=ee("/v1/referral/info",{revalidateOnFocus:!0}),{data:M,mutate:A}=ee("/v1/referral/auto_referral/progress",{revalidateOnFocus:!0,errorRetryCount:2,formatter:N=>({code:N.auto_referral_code,requireVolume:N.required_volume,completedVolume:N.completed_volume})}),[T,P]=f.useState(h);f.useEffect(()=>{P(!0)},[h]);let{data:b,mutate:S}=Ae({startDate:v(new Date,1),endDate:v(new Date,90)}),{data:D,mutate:ce}=ee("/v1/volume/user/stats",{revalidateOnFocus:!0}),B=f.useMemo(()=>{var N,Q;return(((Q=(N=c==null?void 0:c.referrer_info)==null?void 0:N.referral_codes)==null?void 0:Q.length)||0)>0},[c==null?void 0:c.referrer_info]),Z=f.useMemo(()=>{var N;return(((N=c==null?void 0:c.referee_info.referer_code)==null?void 0:N.length)||0)>0},[c==null?void 0:c.referee_info]),V=f.useMemo(()=>{let N={};if(b&&b.length>0){let Q=R(new Date,"yyyy-MM-dd"),fe=b.findIndex(st=>st.date===Q),xe=0;fe!==-1&&(xe=b[fe].perp_volume),N["1d_volume"]=xe}return D&&(N["7d_volume"]=D.perp_volume_last_7_days,N["30d_volume"]=D.perp_volume_last_30_days,N.all_volume=D.perp_volume_ltd),N},[b,D]);f.useEffect(()=>{(B||Z)&&P(!1)},[B,Z]);let z=()=>{ce(),S(),w(),A()};f.useEffect(()=>{let N=new URLSearchParams(window.location.search).get("ref");N&&localStorage.setItem("referral_code",N)},[]);let[it,at]=f.useState("affiliate"),{wrongNetwork:rt,disabledConnect:lt}=jt(),ue=f.useRef(G.NotConnected);return f.useEffect(()=>{let N;return ue.current!==m.status&&(ue.current=m.status,N=setTimeout(()=>{z()},1e3)),()=>{N&&clearTimeout(N)}},[m.status]),t.jsx(He.Provider,{value:{generateCode:M,showHome:T,setShowHome:P,referralInfo:c,isAffiliate:B,isTrader:Z,mutate:z,onBecomeAnAffiliate:i,becomeAnAffiliateUrl:a,bindReferralCodeState:n,onLearnAffiliate:r,learnAffiliateUrl:l,referralLinkUrl:o,userVolume:V,dailyVolume:b,showReferralPage:x,chartConfig:d,overwrite:p,splashPage:g,isLoading:h,tab:it,setTab:at,wrongNetwork:rt,disabledConnect:lt},children:e.children})};function k(){return f.useContext(He)}var Mt=()=>{let{t:e}=j(),[i,a]=f.useState("All"),n=[{label:e("common.all"),value:"All"},{label:e("common.select.1d"),value:"1D"},{label:e("common.select.7d"),value:"7D"},{label:e("common.select.30d"),value:"30D"}],{referralInfo:r}=k(),l=f.useMemo(()=>{if(!r)return 0;switch(i){case"All":return r.referrer_info.total_referrer_rebate;case"1D":return r.referrer_info["1d_referrer_rebate"];case"7D":return r.referrer_info["7d_referrer_rebate"];case"30D":return r.referrer_info["30d_referrer_rebate"]}},[r,i]),o=f.useMemo(()=>{if(!r)return 0;switch(i){case"All":return r.referrer_info.total_referee_volume;case"1D":return r.referrer_info["1d_referee_volume"];case"7D":return r.referrer_info["7d_referee_volume"];case"30D":return r.referrer_info["30d_referee_volume"]}},[r,,i]),x=f.useMemo(()=>{if(!r)return 0;switch(i){case"All":return r.referrer_info.total_invites;case"1D":return r.referrer_info["1d_invites"];case"7D":return r.referrer_info["7d_invites"];case"30D":return r.referrer_info["30d_invites"]}},[r,,i]),d=f.useMemo(()=>{if(!r)return 0;switch(i){case"All":return r.referrer_info.total_traded;case"1D":return r.referrer_info["1d_traded"];case"7D":return r.referrer_info["7d_traded"];case"30D":return r.referrer_info["30d_traded"]}},[r,,i]);return{period:i,periodTypes:n,onPeriodChange:p=>{a(p)},commission:l,referralVol:o,referees:x,refereesTades:d}},Fe=()=>{let e=Mt();return t.jsx(bt,{...e})},At=e=>{let{text:i,visibleCount:a}=e,n=f.useRef(null),r=f.useRef(null),l=f.useRef(void 0);function o(g,m){let c=document.createElement("canvas").getContext("2d"),w=g;if(c&&w){let h=getComputedStyle(w).font;return h.length===0&&(h=[getComputedStyle(w).fontWeight,getComputedStyle(w).fontSize,getComputedStyle(w).fontFamily].join(" ")),c.font=h,c.letterSpacing=getComputedStyle(w).letterSpacing,c.measureText(m).width}}let[x,d]=f.useState(0);f.useEffect(()=>{let g=()=>{if(e.visibleCount===void 0&&n.current&&r.current){let m=n.current.clientWidth;if(m==l.current)return;l.current=m;let c=r.current,w=i,h=Math.ceil(o(c,"...")||0),M=m-h,A=0;for(;A<i.length&&!((o(c,Dt(i,A++))||M)<=M););d(w.length-A)}};return l.current=void 0,g(),window.addEventListener("resize",g),()=>{l.current=void 0,window.removeEventListener("resize",g)}},[i,r]);let p=f.useMemo(()=>{if(x+1>=i.length)return i;let g=a||x,m=i.slice(0,Math.ceil(g/2)),c=i.slice(i.length-Math.floor(g/2),i.length);return`${m}...${c}`},[i,a,x]);return t.jsxs("div",{ref:n,className:C("oui-relative oui-w-full oui-text-end",e.className),children:[t.jsx("div",{className:C("oui-hidden oui-whitespace-nowrap oui-absolute oui-top-0 oui-bottom-0 oui-right-0 oui-left-0"),children:t.jsx("span",{ref:r,children:i})}),t.jsx("span",{children:p})]})},Dt=(e,i)=>{let a=Math.floor(e.length/2-(i>0?i/2:1)),n=e.slice(0,a),r=e.slice(a+i);return n+r},kt=e=>{let{t:i}=j();return t.jsxs(s,{id:"oui-affiliate-affiliate-referralLink",r:"2xl",p:6,width:"100%",gap:4,direction:"column",className:"oui-bg-base-9",children:[t.jsx(St,{...e}),t.jsxs(s,{width:"100%",className:"oui-flex oui-flex-col 3xl:oui-flex-row",gap:4,children:[t.jsx("div",{className:"oui-w-full 3xl:oui-w-1/3",children:t.jsx(Lt,{...e})}),t.jsxs(s,{direction:"column",width:"100%",className:"3xl:oui-w-2/3 3xl:oui-gap-2",children:[t.jsx(Ne,{title:i("affiliate.referralCode"),value:e.refCode,...e}),t.jsx(Ne,{title:i("affiliate.referralLink"),value:e.refLink,...e})]})]})]})},St=e=>{let{t:i}=j();return t.jsx(s,{direction:"row",justify:"between",width:"100%",children:t.jsx(u,{className:"oui-text-lg",children:i("affiliate.referralLink")})})},Lt=e=>{let{t:i}=j(),a=(n,r,l,o,x)=>{let d="oui-text-lg md:oui-text-xl lg:oui-text-2xl xl:oui-text-3xl";return t.jsxs(s,{direction:"column",itemAlign:"start",className:o,children:[t.jsx(s,{direction:"row",gap:2,children:t.jsx(Rt,{title:n,tooltip:x})}),l?t.jsx(u.gradient,{color:"brand",className:d,children:r}):t.jsx(u,{className:d,children:r})]})};return t.jsxs(s,{direction:"row",width:"100%",children:[a(i("affiliate.referralLink.earn"),e.earn||"-",!0,"oui-flex-1",t.jsxs("span",{children:[t.jsx(u.gradient,{color:"brand",children:e.earn||"-"})," ",i("affiliate.referralLink.earn.tooltip",{brokerName:e.brokerName})]})),a(i("affiliate.referralLink.share"),e.share||"-",!1,"oui-flex-1",t.jsx(Ue,{i18nKey:"affiliate.referralLink.share.tooltip",values:{value:e.share||"-",brokerName:e.brokerName},components:[t.jsx(u.gradient,{color:"brand"})]}))]})},Ne=e=>{let{title:i,value:a="-"}=e;return t.jsxs(s,{r:"xl",p:3,gap:4,direction:"row",width:"100%",className:"oui-bg-base-8",children:[t.jsx(u,{className:"oui-text-base-contrast-54 oui-flex-shrink oui-text-2xs md:oui-text-xs xl:oui-text-sm",children:i}),t.jsxs(s,{direction:"row",justify:"end",gap:2,className:"oui-flex-1 oui-text-xs md:oui-text-sm xl:oui-text-base",children:[t.jsx(At,{text:a}),t.jsx("button",{className:"oui-cursor-pointer oui-text-sm oui-flex-shrink",onClick:()=>{var n;navigator.clipboard.writeText(a),(n=e.onCopy)==null||n.call(e,a)},children:t.jsx(ze,{size:12,color:"white",className:"oui-w-[13px] oui-h-[13px] md:oui-w-[14px] md:oui-h-[14px] xl:oui-w-4 xl:oui-h-4"})})]})]})},Rt=e=>t.jsx(oe,{content:e.tooltip,className:"oui-max-w-[200px]",children:t.jsx("div",{onClick:()=>{$.alert({title:e.title,message:t.jsx("div",{className:"oui-text-base-contrast/30 oui-space-y-3 oui-text-xs desktop:oui-text-xs",children:e.tooltip})})},children:t.jsxs(s,{direction:"column",children:[t.jsx(u,{intensity:54,className:"oui-text-2xs md:oui-text-xs xl:oui-text-sm",children:e.title}),t.jsx(U,{className:"oui-w-full",lineStyle:"dotted",intensity:16})]})})});function Be(e,i,a){let n=new URL(e),r=new URLSearchParams(n.search);return r.set(i,a),n.search=r.toString(),n.toString()}async function Ce(e){try{await navigator.clipboard.writeText(e),O.success(ve.t("common.copy.copied"))}catch{O.success(ve.t("common.copy.failed"))}}function Tt(e){if(e===void 0)return"";let i=J(e),a=Ze(i);return R(a,"yyyy-MM-dd HH:mm:ss 'UTC'")}function Ot(e){if(e===void 0)return;let i=J(e),a=Ze(i);return R(a,"yyyy-MM-dd")}function Pt(e,i){return e&&i&&e.toISOString().substring(0,10)===i.toISOString().substring(0,10)}function Ze(e){return new Date(e.toUTCString())}var It=()=>{let{t:e}=j(),i=w=>{O.success(e("common.copy.copied"))},{referralInfo:a,referralLinkUrl:n,overwrite:r}=k(),[l,o]=Te("orderly_referral_codes",[]),x=f.useMemo(()=>{if(!(a!=null&&a.referrer_info.referral_codes))return[];let w=[...a==null?void 0:a.referrer_info.referral_codes],h=[];for(let M=0;M<l.length;M++){let A=l[M],T=w.findIndex(P=>P.code===A);T!==-1&&(h.push({...w[T]}),w.splice(T,1))}return[...h,...w]},[a==null?void 0:a.referrer_info.referral_codes,l]),d=f.useMemo(()=>{if(x.length!==0)return x[0]},[x]),p=f.useMemo(()=>d==null?void 0:d.code,[d]),g=f.useMemo(()=>d?Be(n,"ref",d.code):"",[d]),m=f.useMemo(()=>`${new y((d==null?void 0:d.referrer_rebate_rate)||"0").mul(100).toDecimalPlaces(0,y.ROUND_DOWN).toString()}%`,[d==null?void 0:d.referrer_rebate_rate]),c=f.useMemo(()=>`${new y((d==null?void 0:d.referee_rebate_rate)||"0").mul(100).toDecimalPlaces(0,y.ROUND_DOWN).toString()}%`,[d==null?void 0:d.referee_rebate_rate]);return{onCopy:i,refLink:g,refCode:p,share:c,earn:m,brokerName:(r==null?void 0:r.brokerName)??(r==null?void 0:r.shortBrokerName)}},qe=()=>{let e=It();return t.jsx(kt,{...e})},zt=e=>t.jsxs(s,{id:"oui-affiliate-affiliate-titleStatistic",r:"2xl",p:6,width:"100%",gap:4,direction:"column",className:"oui-bg-base-9",children:[t.jsx(Et,{...e}),t.jsx(s,{className:"oui-h-[170px] 2xl:oui-h-[196px] oui-w-full oui-flex oui-flex-row oui-items-stretch",children:t.jsx($e,{data:e.dataSource||[],colors:{fill:"rgba(0, 180, 158, 1)"},className:"oui-w-full oui-flex-1",tooltip:{rm:y.ROUND_DOWN,dp:e.volType==="Commission"?6:2}})})]}),Et=e=>{let{t:i}=j();return t.jsxs(s,{direction:"row",justify:"between",width:"100%",children:[t.jsx(u,{className:"oui-text-lg",children:i("affiliate.statistics")}),t.jsxs(s,{direction:"row",gap:2,className:"oui-min-w-14",children:[t.jsx(F.options,{size:"xs",value:e.period,onValueChange:e.onPeriodChange,options:e.periodTypes}),t.jsx(F.options,{size:"xs",value:e.volType,onValueChange:e.onVolTypeChange,options:e.volTypes})]})]})};function We(e,i){let a=Date(),n=new Array(e).fill(0).map((l,o)=>({date:R(v(a,o+1),"yyyy-MM-dd"),volume:0,opacity:0})).reverse(),r=i==null?void 0:i.reduce((l,o)=>(l[o.date]=o,l),{});for(let l=0;l<n.length;l++){let o=n[l],x=r==null?void 0:r[o.date];x&&(n[l]={...x,opacity:x.volume>0?1:0})}return n}var $t=()=>{let{t:e}=j(),[i,a]=f.useState("7"),n=[{label:e("common.select.7d"),value:"7"},{label:e("common.select.30d"),value:"30"},{label:e("common.select.90d"),value:"90"}],r=c=>{a(c)},[l,o]=f.useState("Commission"),x=[{label:e("affiliate.commission"),value:"Commission"},{label:e("affiliate.referralVol"),value:"ref"}],d=c=>{o(c)},p=f.useMemo(()=>i==="7"?{startDate:v(new Date,7),endDate:v(new Date,1)}:i==="30"?{startDate:v(new Date,30),endDate:v(new Date,1)}:i==="90"?{startDate:v(new Date,90),endDate:v(new Date,1)}:{startDate:v(new Date,7),endDate:v(new Date,1)},[i]),[g]=Oe({startDate:R(p.startDate,"yyyy-MM-dd"),endDate:R(p.endDate,"yyyy-MM-dd"),size:Number(i)}),m=f.useMemo(()=>((g==null?void 0:g.map(c=>({date:c.date,volume:l==="Commission"?c.referral_rebate:c.volume})))||[]).reverse(),[g,l]);return{period:i,periodTypes:n,onPeriodChange:r,volType:l,volTypes:x,onVolTypeChange:d,dataSource:We(Number(i),m)}},Ge=()=>{let e=$t();return t.jsx(zt,{...e})},de=e=>{let{className:i,...a}=e;return t.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",xmlns:"http://www.w3.org/2000/svg",fill:"white",fillOpacity:"0.36",className:i,...a,children:t.jsx("path",{d:"M8.49773 1.47656C8.36523 1.47656 8.23223 1.52357 8.13823 1.61707C7.86023 1.89507 6.85973 2.89558 6.63773 3.11808L2.13523 7.62059L1.63473 8.12059C1.56523 8.19059 1.52923 8.28958 1.50973 8.38658L1.00973 10.8881C0.939727 11.2381 1.23773 11.5361 1.58773 11.4666C1.90073 11.4036 3.77673 11.0286 4.08923 10.9661C4.18623 10.9466 4.28523 10.9106 4.35523 10.8411L4.85523 10.3406L9.35773 5.83808C9.58023 5.61608 10.5807 4.61506 10.8587 4.33756C10.9522 4.24356 10.9992 4.11056 10.9992 3.97806C10.9992 3.15956 10.7907 2.57456 10.3582 2.13306C9.92173 1.68756 9.33873 1.47656 8.49773 1.47656ZM8.69473 2.48606C9.14623 2.51256 9.43873 2.61608 9.63923 2.82108C9.84423 3.03008 9.97373 3.32008 10.0017 3.76258C9.72773 4.03608 9.32673 4.43106 8.99823 4.75956C8.60173 4.36306 8.11273 3.87407 7.71623 3.47757C8.04523 3.14907 8.42123 2.75956 8.69473 2.48606ZM6.99723 4.19657L8.27923 5.47858L4.49573 9.26207L3.21373 7.98009L6.99723 4.19657ZM2.49473 8.69908L3.77673 9.98107L3.72973 10.0281C3.39973 10.0941 2.73323 10.2336 2.11923 10.3566L2.44773 8.74608L2.49473 8.69908Z"})})},Ut=e=>t.jsx("button",{children:t.jsx(de,{className:" oui-mt-px oui-cursor-pointer oui-fill-base-contrast-36 hover:oui-fill-base-contrast-80",fillOpacity:1,fill:"currentColor",onClick:e.onClick})}),Qe=e=>t.jsx("button",{onClick:i=>{var a;(a=e==null?void 0:e.onClick)==null||a.call(e,!e.pinned)},children:e.pinned===!1?t.jsx(Ht,{size:e.size,fillOpacity:1,className:"orderly-fill-primary-darken hover:orderly-fill-primary-darken/80"}):t.jsx(Vt,{size:e.size,fillOpacity:1,className:"orderly-fill-base-contrast-36 hover:orderly-fill-base-contrast"})}),Vt=e=>{let{size:i=12}=e;return t.jsx("svg",{width:i,height:i,viewBox:"0 0 16 16",fill:"#608CFF",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M10.008 1.302a.74.74 0 0 0-.486.215c-1.033.988-1.349 1.815-.972 2.947-.88.675-1.437.841-2.536.841-1.503 0-2.484.181-3.152.848v.021a1.583 1.583 0 0 0 0 2.249l1.867 1.881-3.181 3.18c-.26.26-.28.696-.02.956.261.26.699.26.959 0l3.193-3.193 1.87 1.86a1.585 1.585 0 0 0 2.25 0h.02c.668-.667.854-1.522.854-3.144 0-1.03.212-1.758.853-2.523 1.232.361 1.95.015 2.96-.995a.68.68 0 0 0 .188-.479c0-.234-.06-.594-.209-1.041a5.34 5.34 0 0 0-1.312-2.103A5.35 5.35 0 0 0 11.05 1.51c-.448-.149-.808-.208-1.042-.208"})})},Ht=e=>{let{size:i=12}=e;return t.jsx("svg",{width:i,height:i,viewBox:"0 0 16 16",fill:"#fff",fillOpacity:".36",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M10.008 1.302a.74.74 0 0 0-.486.215c-1.033.988-1.349 1.815-.972 2.947-.88.675-1.437.841-2.536.841-1.503 0-2.484.181-3.152.848v.021a1.583 1.583 0 0 0 0 2.249l1.867 1.881-3.181 3.18c-.26.26-.28.696-.02.956.261.26.699.26.959 0l3.193-3.193 1.87 1.86a1.585 1.585 0 0 0 2.25 0h.02c.668-.667.854-1.522.854-3.144 0-1.03.212-1.758.853-2.523 1.232.361 1.95.015 2.96-.995a.68.68 0 0 0 .188-.479c0-.234-.06-.594-.209-1.041a5.34 5.34 0 0 0-1.312-2.103A5.35 5.35 0 0 0 11.05 1.51c-.448-.149-.808-.208-1.042-.208m.258 1.37c.708.131 1.421.6 1.93 1.108.507.507.94 1.13 1.119 1.944-.636.61-1.026.659-1.662.324a.67.67 0 0 0-.779.116c-1.214 1.213-1.533 2.314-1.533 3.8 0 1.293-.076 1.774-.48 2.207-.113.123-.27.104-.374 0L3.799 7.486a.24.24 0 0 1-.017-.34c.239-.29.769-.514 2.226-.514 1.742.001 2.668-.447 3.812-1.52a.67.67 0 0 0 .125-.77c-.343-.685-.29-1.046.321-1.67"})})},Ft=e=>{let i=E("(max-width: 767px)");return t.jsxs(s,{r:"2xl",p:6,width:"100%",gap:4,direction:"column",className:"oui-h-full oui-bg-base-9 oui-p-6 oui-tabular-nums",children:[t.jsx(Bt,{...e}),t.jsxs("div",{className:"oui-flex oui-w-full oui-flex-col 2xl:oui-h-full",children:[t.jsx(U,{}),i?t.jsx(Zt,{...e}):t.jsx(Wt,{...e})]})]})},Bt=e=>{var a;let{t:i}=j();return t.jsxs(s,{direction:"row",justify:"between",width:"100%",children:[t.jsx(u,{className:"oui-text-lg",children:i("affiliate.referralCodes")}),t.jsxs("div",{className:"oui-text-2xs md:oui-text-xs xl:oui-text-sm",children:[t.jsx(u,{className:"oui-text-base-contrast-54",children:`${i("affiliate.referralCodes.remaining")}: `}),t.jsx(u,{className:"oui-text-primary-light",children:((a=e.codes)==null?void 0:a.length)||"--"})]})]})},Zt=e=>t.jsx(K,{dataSource:e.codes,className:"oui-max-h-[240px] oui-w-full",renderItem:(i,a)=>t.jsxs(s,{direction:"column",children:[t.jsx(qt,{data:i,editRate:e.editRate,copyLink:e.copyLink,copyCode:e.copyCode,setPinCode:e.setPinCode,editCode:e.editCode},a),t.jsx(U,{className:"oui-mt-3 oui-w-full"})]})}),q=e=>{let{title:i,copyable:a,value:n,align:r,className:l,editRate:o,onCopy:x}=e;return t.jsx(W,{id:"oui-affiliate-affiliate-referralCodes",className:C("oui-flex-1",l),label:t.jsx(u,{className:"oui-text-2xs oui-text-base-contrast-36",children:i}),align:r,children:t.jsxs(s,{direction:"row",gap:1,children:[t.jsx(u.formatted,{copyable:a,onCopy:()=>{x==null||x()},className:"oui-mt-[6px] oui-text-sm oui-text-base-contrast-80",children:n}),o&&t.jsx(de,{className:"oui-mt-px oui-cursor-pointer oui-fill-white/[.36] hover:oui-fill-white/80",fillOpacity:1,fill:"currentColor",onClick:()=>o()})]})})},qt=e=>{var x,d;let{data:i,setPinCode:a,copyLink:n,editRate:r,editCode:l}=e,{t:o}=j();return t.jsxs(s,{gap:3,direction:"column",className:"oui-w-full",children:[t.jsxs(s,{direction:"row",justify:"between",itemAlign:"stretch",width:"100%",children:[t.jsx(q,{title:o("affiliate.referralCode"),value:i.code,copyable:!0,onCopy:()=>{var p;(p=e.copyCode)==null||p.call(e,i.code)},editRate:()=>{l(i)}}),t.jsx(q,{title:o("affiliate.referralCodes.column.you&Referee"),value:Xe(i),align:"end",editRate:()=>{r(i)}}),t.jsx(q,{title:o("affiliate.referralCodes.column.referees&Traders"),value:H(i),align:"end",className:"oui-hidden md:oui-flex"})]}),t.jsxs(s,{direction:"row",justify:"between",itemAlign:"stretch",width:"100%",className:"md:oui-hidden",children:[t.jsx(q,{title:o("affiliate.referees"),value:(x=H(i).split("/"))==null?void 0:x[0],align:"start"}),t.jsx(q,{title:o("affiliate.referralCodes.column.traders"),value:(d=H(i).split("/"))==null?void 0:d[1],align:"end"})]}),t.jsxs(s,{direction:"row",justify:"between",itemAlign:"stretch",width:"100%",children:[t.jsx(Qe,{pinned:i.isPined||!1,onClick:p=>{a(i.code,!p)}}),t.jsx(L,{variant:"outlined",size:"xs",className:"oui-px-[20px]",onClick:p=>{n(i.code)},children:o("affiliate.referralCodes.copyLink")})]})]},i.code)},Wt=e=>{let{t:i}=j(),a=E("(min-width: 1024px)"),n=f.useMemo(()=>{let r=[{title:i("affiliate.referralCode"),dataIndex:"code",width:a?115:120,className:"!oui-px-0",render:(l,o)=>t.jsxs(s,{direction:"row",itemAlign:"center",gap:1,children:[t.jsx(Qe,{size:12,pinned:o.isPined||!1,onClick:x=>{e.setPinCode(o.code,!x)}}),t.jsx(u.formatted,{suffix:t.jsxs(t.Fragment,{children:[o.isAutoGenerated&&o.total_invites<1&&t.jsx(Ut,{onClick:()=>{var x;return(x=e.editCode)==null?void 0:x.call(e,o)}}),t.jsx(ze,{className:"oui-cursor-pointer",size:12,color:"white",onClick:()=>{var x;return(x=e.copyCode)==null?void 0:x.call(e,o.code)}})]}),copyable:!0,onCopy:()=>{var x;(x=e.copyCode)==null||x.call(e,o.code)},children:l})]})},{title:i("affiliate.referralCodes.column.you&Referee"),dataIndex:"dffd",width:120,className:"oui-pr-0",render:(l,o)=>t.jsxs(s,{direction:"row",itemAlign:"center",gap:1,children:[Xe(o),t.jsx(de,{className:"oui-mt-[6px] oui-cursor-pointer oui-fill-white/[.36] hover:oui-fill-white/80",fillOpacity:1,fill:"currentColor",onClick:x=>{var d;return(d=e.editRate)==null?void 0:d.call(e,o)}})]})}];return a?(r.push({title:i("affiliate.referees"),dataIndex:"referee_rebate_rate",width:65,className:"oui-pr-0",render:(l,o)=>H(o).split("/")[0]}),r.push({title:i("affiliate.referralCodes.column.traders"),dataIndex:"referrer_rebate_rate",width:65,className:"oui-pr-0",render:(l,o)=>H(o).split("/")[1]})):r.push({title:i("affiliate.referralCodes.column.referees&Traders"),dataIndex:"total_invites/total_traded",width:120,fixed:"left",render:(l,o)=>H(o)}),r.push({dataIndex:"link",align:"right",width:74,className:"!oui-px-0",render:(l,o)=>t.jsx(L,{variant:"outlined",size:"sm",className:"oui-px-5",onClick:x=>{var d;(d=e==null?void 0:e.copyLink)==null||d.call(e,o.code)},children:i("affiliate.referralCodes.copyLink")})}),r},[a,i]);return t.jsx(xt,{bordered:!0,columns:n,dataSource:e.codes,classNames:{header:"oui-px-0",root:"2xl:oui-flex-1 2xl:oui-max-h-[230px] 3xl:oui-max-h-[300px]"},onRow:r=>({className:"oui-h-[45px]"})})},Xe=e=>{let i=new y(e.referee_rebate_rate).mul(100).toFixed(1,y.ROUND_DOWN).toString();return`${new y(e.referrer_rebate_rate).mul(100).toFixed(1,y.ROUND_DOWN).toString()}% / ${i}%`},H=e=>`${e.total_invites} / ${e.total_traded}`,Gt=$.create(e=>{let{t:i}=j(),{visible:a,onOpenChange:n}=De(),[r,l]=f.useState(""),[o,x]=f.useState({length:!1,format:!1}),[d,{error:p,isMutating:g}]=le("/v1/referral/edit_referral_code","POST");return f.useEffect(()=>{l(e.code.code)},[e.code]),f.useEffect(()=>{let m=r.toUpperCase(),c={length:!1,format:!1};(m.length<4||m.length>10)&&(c.length=!0),/^[A-Z0-9]+$/.test(m)||(c.format=!0),x(c)},[r]),t.jsxs(nt,{classNames:{content:"oui-max-w-[360px]"},title:t.jsx("div",{children:i("affiliate.referralCode.editCodeModal.title")}),open:a,onOpenChange:n,actions:{primary:{loading:g,disabled:o.length||o.format,label:i("common.confirm"),onClick:async()=>{try{let m=await d({current_referral_code:e.code.code,new_referral_code:r.toUpperCase()});if(m.success){O.success(i("affiliate.referralCode.editCodeModal.success")),e.successCallback(),n(!1);return}O.error(m.message)}catch{}}}},children:[t.jsx("div",{className:"oui-mb-6 oui-text-xs oui-text-base-contrast-54",children:i("affiliate.referralCode.editCodeModal.description")}),t.jsx(ke,{placeholder:"",fullWidth:!0,label:i("affiliate.referralCode.editCodeModal.label"),onClean:()=>{l("")},value:r,onChange:m=>{let c=m.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");l(c)},formatters:[X.createRegexInputFormatter(m=>String(m).replace(/[a-z]/g,c=>c.toUpperCase())),X.createRegexInputFormatter(/[^A-Z0-9]/g)],classNames:{label:"oui-text-base-contrast-54 oui-text-xs",input:"placeholder:oui-text-base-contrast-20 placeholder:oui-text-sm"},maxLength:10,minLength:4,autoComplete:"off",helpText:""}),t.jsxs(s,{direction:"column",justify:"center",itemAlign:"start",gap:1,className:"oui-mt-3",children:[t.jsx(u,{className:C("oui-ml-4 oui-list-item oui-list-outside oui-list-disc oui-text-xs oui-text-base-contrast-36 marker:oui-text-3xs",o.length?"oui-text-danger":"oui-text-success"),children:i("affiliate.referralCode.editCodeModal.helpText.length")}),t.jsx(u,{className:C("oui-ml-4 oui-list-item oui-list-outside oui-list-disc oui-text-xs oui-text-base-contrast-36 marker:oui-text-3xs","oui-text-success"),children:i("affiliate.referralCode.editCodeModal.helpText.format")})]})]})}),Qt=$.create(e=>{let{code:i,mutate:a}=e,{visible:n,hide:r,onOpenChange:l}=De(),o=new y(i.max_rebate_rate).mul(100),[x,d]=f.useState(`${new y(i.referee_rebate_rate).mul(100)}`),[p,g]=f.useState(`${new y(i.referrer_rebate_rate).mul(100)}`),[m,c]=f.useState(!1),w=f.useRef(null),{t:h}=j();f.useEffect(()=>{w!=null&&w.current&&(w.current.focus(),w.current.setSelectionRange(w.current.value.length,w.current.value.length))},[w]),f.useEffect(()=>{d(`${new y(i.referee_rebate_rate).mul(100)}`),g(`${new y(i.referrer_rebate_rate).mul(100)}`)},[i]);let[M,{error:A,isMutating:T}]=le("/v1/referral/edit_split","POST"),P=async()=>{try{let b=Number.parseFloat(x),S=Number.parseFloat(p);await M({referral_code:i.code,referee_rebate_rate:b/100,referrer_rebate_rate:S/100}),O.success(h("affiliate.referralRate.editRateModal.success")),a(),r()}catch(b){O.error((b==null?void 0:b.message)||b||"")}};return t.jsx(Se,{open:n,onOpenChange:l,children:t.jsxs(Le,{className:"oui-px-6 oui-max-w-[320px] oui-bg-base-8 oui-shadow-[0px_12px_20px_0px_rgba(0,0,0,0.25)]",closable:!0,children:[t.jsxs(Re,{children:[t.jsx("div",{className:"oui-my-3",children:h("affiliate.referralRate.editRateModal.title")}),t.jsx(U,{})]}),t.jsxs("div",{className:"oui-mt-3 oui-h-full oui-flex oui-flex-col oui-justify-end",children:[t.jsx("div",{className:"oui-text-xs oui-text-base-contrast-54",children:h("affiliate.referralRate.editRateModal.description")}),t.jsxs("div",{className:"oui-text-xs oui-text-base-contrast-80 oui-mt-2 oui-flex",children:[h("affiliate.referralRate.editRateModal.label"),t.jsx("div",{className:"oui-text-warning-darken oui-pl-1",children:`${new y(i.max_rebate_rate).mul(100).toFixed(0,y.ROUND_DOWN)}%`})]}),t.jsx("div",{className:"oui-text-2xs oui-mt-6 oui-text-base-contrast-80",children:h("affiliate.referralRate.editRateModal.label.you")}),t.jsx(me,{ref:w,containerClassName:"oui-h-[40px] oui-mt-3 oui-bg-base-700 oui-outline oui-outline-1 oui-outline-base-contrast-12 focus-within:oui-outline-primary-darken",placeholder:"Enter code",type:"text",inputMode:"decimal",autoComplete:"off",value:p,onChange:b=>{let S=he(b.target.value),D=Number.parseFloat(S);g(S),Number.isNaN(D)?(d(""),g("")):(d(`${_e(new y(0),o.sub(D))}`),c(o.sub(D)<new y(0)))},suffix:t.jsx("div",{className:"oui-px-3 oui-text-base-contrast-54 oui-text-base",children:"%"}),color:m?"danger":void 0}),t.jsx("div",{className:"oui-text-2xs oui-mt-6 oui-text-base-contrast-80",children:h("affiliate.referralRate.editRateModal.label.referee")}),t.jsx(me,{containerClassName:"oui-h-[40px] oui-mt-3 oui-bg-base-700 oui-outline oui-outline-1 oui-outline-base-contrast-12 focus-within:oui-outline-primary-darken",placeholder:"Enter code",type:"text",inputMode:"decimal",autoComplete:"off",autoFocus:!1,value:x,onChange:b=>{let S=he(b.target.value),D=Number.parseFloat(S);d(S),Number.isNaN(D)?(d(""),g("")):(g(`${_e(new y(0),o.sub(D))}`),c(o.sub(D)<new y(0)))},suffix:t.jsx("div",{className:"oui-px-3 oui-text-base-contrast-54 oui-text-base",children:"%"}),color:m?"danger":void 0}),m&&t.jsx("div",{className:"oui-text-danger oui-text-xs oui-mt-8 oui-text-center oui-px-4",children:h("affiliate.referralRate.editRateModal.helpText.max")}),t.jsx(s,{width:"100%",justify:"center",children:t.jsx(L,{id:"referral_bind_referral_code_btn",disabled:x.length===0||p.length===0||m,loading:T,className:C("oui-mt-8 oui-mb-4 oui-w-[154px]",m&&"oui-mt-3"),onClick:b=>{b.stopPropagation(),P()},children:h("common.confirm")})})]})]})})});function _e(e,i){return e>i?e:i}var Xt=()=>{let{referralInfo:e,referralLinkUrl:i,mutate:a,generateCode:n}=k(),r=c=>{Ce(Be(i,"ref",c))},l=c=>{Ce(c)},o=c=>{$.show(Qt,{code:{...c},mutate:a})},x=c=>{$.show(Gt,{code:{...c},successCallback:()=>{a()}})},[d,p]=Te("orderly_referral_codes",[]),g=(c,w)=>{if(w){let h=d.findIndex(M=>M===c);h!==-1&&d.splice(h,1)}else d.splice(0,0,c);d.length>6&&d.splice(d.length-1,1),p([...d])},m=f.useMemo(()=>{if(!(e!=null&&e.referrer_info.referral_codes))return;let c=e==null?void 0:e.referrer_info.referral_codes.map(h=>(n&&n.code===h.code&&(h.isAutoGenerated=!0),h)),w=[];for(let h=0;h<d.length;h++){let M=d[h],A=c.findIndex(T=>T.code===M);A!==-1&&(w.push({...c[A],isPined:!0}),c.splice(A,1))}return[...w,...c]},[e==null?void 0:e.referrer_info.referral_codes,d,n]);return{copyCode:l,copyLink:r,editRate:o,editCode:x,setPinCode:g,codes:m}},Je=()=>{let e=Xt();return t.jsx(Ft,{...e})},Jt=e=>{let{t:i}=j();return t.jsx(s,{id:"oui-affiliate-affiliate-commissionAndReferees",r:"2xl",p:6,width:"100%",gap:4,direction:"column",className:"oui-bg-base-9 oui-tabular-nums",children:t.jsxs(dt,{defaultValue:"account",className:"oui-w-full",variant:"contained",children:[t.jsx(pe,{value:"account",title:i("affiliate.commission"),children:t.jsx(Kt,{...e})}),t.jsx(pe,{value:"password",title:i("affiliate.myReferees"),children:t.jsx(Yt,{...e})})]})})},I=e=>{let{title:i,value:a,align:n,className:r,rule:l,formatString:o,prefix:x}=e;return t.jsx(W,{className:C("oui-flex-1",r),label:t.jsx(u,{className:"oui-text-base-contrast-36 oui-text-2xs",children:i}),align:n,children:t.jsx(u.formatted,{rule:l||"",formatString:o,prefix:x,className:"oui-text-base-contrast-80 oui-text-sm oui-mt-[6px]",children:a})})},Kt=e=>{let{t:i}=j(),a=E("(max-width: 767px)"),n=f.useMemo(()=>[{title:`${i("affiliate.commission")} (USDC)`,dataIndex:"referral_rebate",render:l=>t.jsx(u,{children:_(l,{fix:6,fallback:"0",padEnd:!0,prefix:"$"})}),width:216},{title:`${i("affiliate.referralVol")} (USDC)`,dataIndex:"volume",render:l=>t.jsx(u,{children:_(l,{fix:2,fallback:"0",padEnd:!0,prefix:"$"})}),width:216},{title:i("affiliate.commission.column.activeUsers"),dataIndex:"daily_traded_referral",render:l=>t.jsx(u,{children:l}),width:216},{title:i("common.date"),dataIndex:"date",render:l=>Ot(l),width:216}],[i]),r=f.useMemo(()=>a?t.jsx(K,{className:"oui-w-full oui-max-h-[200px]",dataSource:e.commission.data,loadMore:e.commission.loadMore,isLoading:e.commission.isLoading,renderItem:(l,o)=>t.jsxs("div",{children:[t.jsxs(s,{direction:"row",width:"100%",children:[t.jsx(I,{title:i("affiliate.commission"),value:_(l.referral_rebate,{fix:6,fallback:"0",padEnd:!0}),prefix:"$"}),t.jsx(I,{title:i("affiliate.referralVol"),value:_(l.volume,{fix:2,fallback:"0",padEnd:!0}),prefix:"$"}),t.jsx(I,{title:i("affiliate.commission.column.activeUsers"),value:l.daily_traded_referral}),t.jsx(I,{title:i("common.date"),value:l.date,rule:"date",formatString:"yyyy-MM-dd",align:"end"})]}),t.jsx(U,{className:"oui-w-full oui-mt-3"})]})}):t.jsx(ne,{bordered:!0,columns:n,loading:e.commission.isLoading,ignoreLoadingCheck:!0,dataSource:e.commission.data,pagination:e.commission.pagination,onRow:l=>({className:"oui-h-[41px]"})}),[a,e.commission]);return t.jsxs(s,{direction:"column",width:"100%",justify:"start",itemAlign:"start",children:[t.jsx(ei,{value:e.commission.dateRange,setValue:e.commission.setDateRange}),r]})},Yt=e=>{let{t:i}=j(),a=E("(max-width: 767px)"),n=f.useMemo(()=>[{title:i("affiliate.referees.column.refereeAddress"),dataIndex:"user_address",render:l=>t.jsx(u.formatted,{rule:"address",children:l}),className:"oui-w-1/5"},{title:i("affiliate.referralCode"),dataIndex:"referral_code",className:"oui-w-1/5"},{title:`${i("affiliate.referees.column.totalCommission")} (USDC)`,dataIndex:"referral_rebate",render:l=>t.jsx(u,{children:_(l,{fix:6,prefix:"$",padEnd:!0})}),className:"oui-w-1/5"},{title:`${i("affiliate.referees.column.totalVol")} (USDC)`,dataIndex:"volume",render:l=>t.jsx(u,{children:_(l,{fix:2,prefix:"$",padEnd:!0})}),className:"oui-w-1/5"},{title:i("affiliate.referees.column.invitationTime"),dataIndex:"code_binding_time",render:l=>t.jsx(u.formatted,{rule:"date",formatString:"yyyy-MM-dd",children:l}),className:"oui-w-1/5"}],[i]),r=f.useMemo(()=>a?t.jsx(K,{className:"oui-w-full oui-max-h-[200px]",dataSource:e.referees.data,loadMore:e.referees.loadMore,isLoading:e.referees.isLoading,renderItem:(l,o)=>t.jsxs(s,{direction:"column",gap:3,className:"oui-border-b-2 oui-border-line-6 oui-pb-3",children:[t.jsxs(s,{direction:"row",width:"100%",children:[t.jsx(I,{title:i("affiliate.referralCode"),value:l.referral_code}),t.jsx(I,{title:`${i("affiliate.referees.column.totalCommission")} (USDC)`,value:_(l.referral_rebate,{fix:6,prefix:"$",padEnd:!0}),className:"oui-min-w-[102px]"}),t.jsx(I,{title:i("affiliate.referees.column.totalVol"),value:_(l.volume,{fix:2,prefix:"$",padEnd:!0}),align:"end"})]}),t.jsxs(s,{direction:"row",pt:3,gap:3,width:"100%",children:[t.jsx(I,{title:i("affiliate.referees.column.refereeAddress"),value:l.user_address,rule:"address"}),t.jsx(I,{title:i("affiliate.referees.column.invitationTime"),value:l.code_binding_time,align:"end",rule:"date",formatString:"yyyy-MM-dd"})]})]},o)}):t.jsx(ne,{bordered:!0,loading:e.referees.isLoading,ignoreLoadingCheck:!0,columns:n,dataSource:e.referees.data,pagination:e.referees.pagination,onRow:l=>({className:"oui-h-[41px]"})}),[a,e.referees]);return t.jsx(s,{direction:"column",width:"100%",justify:"start",itemAlign:"start",children:r})},ei=e=>t.jsx(s,{width:"100%",height:49,className:"oui-border-b oui-border-line-6",children:t.jsx("div",{children:t.jsx(Ie.range,{size:"xs",value:e.value,onChange:i=>{e.setValue(i)},max:90,disabled:{after:new Date}})})}),ti=()=>{let e=ii(),i=ai();return{commission:e,referees:i}},ii=()=>{let[e,i]=f.useState({from:v(new Date,90),to:v(new Date,1)}),a=E("(max-width: 767px)"),{page:n,pageSize:r,setPage:l,parsePagination:o}=se(),[x,{refresh:d,isLoading:p,loadMore:g,meta:m}]=Oe({startDate:(e==null?void 0:e.from)!==void 0?R(e.from,"yyyy-MM-dd"):void 0,endDate:(e==null?void 0:e.to)!==void 0?R(e.to,"yyyy-MM-dd"):void 0,size:r,page:a?void 0:n});f.useEffect(()=>{d()},[e]);let c=f.useMemo(()=>o(m),[o,m]);return f.useEffect(()=>{l(1)},[e]),{data:x||void 0,pagination:c,dateRange:e,setDateRange:i,isLoading:p,loadMore:g}},ai=()=>{let[e,i]=f.useState({from:v(new Date,90),to:v(new Date,1)}),a=E("(max-width: 767px)"),{page:n,pageSize:r,setPage:l,parsePagination:o}=se(),[x,{refresh:d,isLoading:p,loadMore:g,meta:m}]=ft({startDate:(e==null?void 0:e.from)!==void 0?R(e.from,"yyyy-MM-dd"):void 0,endDate:(e==null?void 0:e.to)!==void 0?R(e.to,"yyyy-MM-dd"):void 0,size:r,page:a?void 0:n,sort:"descending_code_binding_time"});f.useEffect(()=>{d()},[e]);let c=f.useMemo(()=>o(m),[o,m]);return f.useEffect(()=>{l(1)},[e]),{data:x||void 0,pagination:c,dateRange:e,setDateRange:i,isLoading:p,loadMore:g}},ri=()=>{let e=ti();return t.jsx(Jt,{...e})},Ke=()=>t.jsxs(s,{id:"oui-affiliate-affiliate-page",className:C("oui-h-lvw","oui-font-semibold"),direction:"column",gap:4,children:[t.jsx(li,{}),t.jsx(ri,{})]}),li=()=>E("(max-width: 1279px)")?t.jsx(si,{}):t.jsx(oi,{}),si=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"oui-flex oui-flex-col xl:oui-flex-row oui-gap-4 oui-w-full",children:[t.jsx(Fe,{}),t.jsx(qe,{})]}),t.jsx(Ge,{}),t.jsx(Je,{})]}),oi=()=>t.jsxs(s,{direction:"row",itemAlign:"stretch",gap:4,children:[t.jsxs(s,{direction:"column",gap:4,className:"oui-flex-1 oui-w-1/2",children:[t.jsx("div",{className:"oui-flex-1 oui-h-full oui-w-full",children:t.jsx(Fe,{})}),t.jsx(Ge,{})]}),t.jsxs(s,{direction:"column",gap:4,className:"oui-w-1/2",children:[t.jsx(qe,{}),t.jsx("div",{className:"oui-flex-1",children:t.jsx(Je,{})})]})]}),ni=e=>{let{t:i}=j();return t.jsxs(s,{id:"oui-affiliate-trader-summary",r:"2xl",p:6,width:"100%",height:"100%",gap:4,direction:"column",className:"oui-bg-base-9 xl:oui-flex-1",children:[t.jsx(di,{...e}),t.jsx(Ye,{className:"md:oui-hidden",...e}),t.jsxs(s,{direction:"column",gap:3,width:"100%",className:"md:oui-mt-3",children:[t.jsx(ci,{...e}),t.jsx(ui,{...e})]}),t.jsx(fi,{title:`${i("affiliate.trader.tradingVol")} (USDC)`,...e})]})},di=e=>{let{t:i}=j();return t.jsxs(s,{direction:"row",width:"100%",gap:3,children:[t.jsxs(s,{direction:"row",gap:3,className:"oui-flex-1",children:[t.jsx(u,{className:"oui-text-lg",children:i("affiliate.trader.yourReferrer")}),t.jsx(L,{color:"secondary",size:"sm",className:"oui-text-primary-light oui-text-2xs md:oui-text-xs 2xl:oui-text-sm oui-bg-base-6",children:e.code})]}),t.jsx(Ye,{className:"oui-hidden md:oui-flex md:oui-flex-shrink md:oui-w-fit",...e})]})},Ye=e=>{let{t:i}=j();return t.jsxs(s,{direction:"row",width:"100%",gap:2,className:e.className,children:[t.jsx(u,{intensity:54,className:"oui-text-sm md:oui-text-base 2xl:oui-text-lg",children:`${i("affiliate.trader.rebate")}:`}),t.jsx(u.gradient,{color:"brand",className:"oui-text-lg md:oui-text-xl 2xl:oui-text-2xl",children:e.rebateText})]})},ci=e=>{let{t:i}=j();return t.jsxs(s,{direction:"row",width:"100%",justify:"between",gap:3,children:[t.jsx(u,{className:"oui-text-sm",children:i("affiliate.summary")}),t.jsx("div",{children:t.jsx(F.options,{size:"xs",value:e.period,onValueChange:e.onPeriodChange,options:e.periodTypes})})]})},ui=e=>{let{t:i}=j();return t.jsxs(s,{gradient:"success",angle:180,r:"xl",py:4,px:6,width:"100%",direction:"column",gap:3,children:[t.jsx(u,{intensity:54,className:"oui-text-base 2xl:oui-text-lg",children:`${i("affiliate.trader.rebates")} (USDC)`}),t.jsxs(s,{direction:"row",gap:3,className:"oui-text-xl md:oui-text-2xl xl:oui-text-3xl",children:[t.jsx(Y,{className:"md:oui-w-[24px] md:oui-h-[24px] lg:oui-w-[28px] lg:oui-h-[28px] "}),t.jsx(u,{children:_(e.rebates,{fix:2,fallback:"0"})})]})]})},fi=e=>t.jsxs(s,{direction:"row",justify:"between",width:"100%",children:[t.jsx(u,{intensity:54,className:"oui-text-2xs md:oui-text-xs xl:oui-text-sm",children:e.title}),t.jsx(u,{className:"oui-text-xs md:oui-text-sm xl:oui-text-base",children:_(e.vol,{fix:2,fallback:"0"})})]}),xi=()=>{let{t:e}=j(),[i,a]=f.useState("All"),n=[{label:e("common.all"),value:"All"},{label:e("common.select.1d"),value:"1D"},{label:e("common.select.7d"),value:"7D"},{label:e("common.select.30d"),value:"30D"}],{referralInfo:r,userVolume:l}=k(),o=f.useMemo(()=>{if(!r)return 0;switch(i){case"All":return r.referee_info.total_referee_rebate;case"1D":return r.referee_info["1d_referee_rebate"];case"7D":return r.referee_info["7d_referee_rebate"];case"30D":return r.referee_info["30d_referee_rebate"]}},[r,i]),x=f.useMemo(()=>{if(l)switch(i){case"All":return l.all_volume;case"1D":return l["1d_volume"];case"7D":return l["7d_volume"];case"30D":return l["30d_volume"]}},[l,i]),d=r==null?void 0:r.referee_info.referer_code,p=r==null?void 0:r.referee_info.referee_rebate_rate,g=f.useMemo(()=>p?new y(p).mul(100).toDecimalPlaces(2,y.ROUND_DOWN).toString()+"%":"-",[p]);return{period:i,periodTypes:n,onPeriodChange:m=>{a(m)},rebates:o,vol:x,rebateText:g,code:d}},mi=()=>{let e=xi();return t.jsx(ni,{...e})},hi=e=>t.jsxs(s,{id:"oui-affiliate-trader-titleStatistic",r:"2xl",p:6,width:"100%",gap:4,direction:"column",className:"oui-bg-base-9 xl:oui-flex-1",children:[t.jsx(pi,{...e}),t.jsx(s,{className:"oui-min-h-[170px] oui-h-full oui-w-full oui-flex oui-flex-row oui-items-stretch",children:t.jsx($e,{data:e.dataSource,colors:{fill:"rgba(0, 180, 158, 1)"},className:"oui-w-full oui-flex-1",tooltip:{rm:y.ROUND_DOWN,dp:e.volType==="volume"?2:6}})})]}),pi=e=>{let{t:i}=j();return t.jsxs(s,{direction:"row",justify:"between",width:"100%",children:[t.jsx(u,{className:"oui-text-lg",children:i("affiliate.statistics")}),t.jsxs(s,{direction:"row",gap:2,className:"oui-min-w-14",children:[t.jsx(F.options,{size:"xs",value:e.period,onValueChange:e.onPeriodChange,options:e.periodTypes}),t.jsx(F.options,{size:"xs",value:e.volType,onValueChange:e.onVolTypeChange,options:e.volTypes})]})]})},gi=()=>{let{t:e}=j(),[i,a]=f.useState("7"),n=[{label:e("common.select.7d"),value:"7"},{label:e("common.select.30d"),value:"30"},{label:e("common.select.90d"),value:"90"}],r=h=>{a(h)},[l,o]=f.useState("rebate"),x=[{label:e("affiliate.trader.rebate"),value:"rebate"},{label:e("common.volume"),value:"volume"}],d=h=>{o(h)},p=f.useMemo(()=>i==="7"?{startDate:v(new Date,7),endDate:v(new Date,1)}:i==="30"?{startDate:v(new Date,30),endDate:v(new Date,1)}:i==="90"?{startDate:v(new Date,90),endDate:v(new Date,1)}:{startDate:v(new Date,7),endDate:v(new Date,1)},[i]),{data:g}=Pe(p),{dailyVolume:m,chartConfig:c}=k(),w=f.useMemo(()=>l==="rebate"?(g||[]).map(h=>({date:h.date,volume:h.referee_rebate})).reverse():l==="volume"?(m==null?void 0:m.filter(h=>h.date>R(v(Date(),Number(i)+1),"yyyy-MM-dd")).map(h=>({date:h.date,volume:h.perp_volume})))||[]:[],[g,m,l]);return{period:i,periodTypes:n,onPeriodChange:r,volType:l,volTypes:x,onVolTypeChange:d,dataSource:We(Number(i),w)}},ji=()=>{let e=gi();return t.jsx(hi,{...e})},wi=e=>t.jsxs(s,{id:"oui-affiliate-trader-rebates",r:"2xl",p:6,width:"100%",gap:4,direction:"column",className:"oui-bg-base-9 oui-tabular-nums",children:[t.jsx(vi,{...e}),t.jsx(s,{width:"100%",className:"oui-border-y-2 oui-border-line-6",height:49,direction:"row",itemAlign:"center",children:t.jsx("div",{children:t.jsx(Ie.range,{size:"xs",value:e.dateRange,onChange:i=>{e.setDateRange(i)},max:90,disabled:{after:new Date}})})}),t.jsx(bi,{...e})]}),vi=e=>{let{t:i}=j();return t.jsxs(s,{direction:"row",justify:"between",width:"100%",children:[t.jsx(u,{className:"oui-text-lg",children:i("affiliate.trader.myRebates")}),t.jsx(u,{intensity:36,className:"oui-text-2xs",children:e.displayDate})]})},bi=e=>{let{t:i}=j(),a=E("(max-width: 767px)"),n=[{title:`${i("affiliate.trader.rebates")} (USDC)`,dataIndex:"referee_rebate",render:r=>t.jsx(u,{children:_(r,{fix:6,fallback:"0",padEnd:!0,prefix:"$"})}),width:127},{title:`${i("affiliate.trader.tradingVol")} (USDC)`,dataIndex:"vol",render:r=>_(r,{fix:2,fallback:"0",padEnd:!0,prefix:"$"}),width:127},{title:i("common.date"),dataIndex:"date",render:r=>t.jsx(u.formatted,{formatString:"yyyy-MM-dd",children:r}),width:127}];return a?t.jsx(K,{dataSource:e.dataSource,className:"oui-h-[197px] oui-w-full",renderItem:(r,l)=>t.jsx(yi,{item:r})}):t.jsx(ne,{bordered:!0,loading:e.isLoading,columns:n,dataSource:e.dataSource,ignoreLoadingCheck:!0,onRow:r=>({className:"oui-h-[41px]"}),pagination:e.pagination,manualPagination:!1})},yi=e=>{let{t:i}=j();return t.jsxs(s,{direction:"column",width:"100%",children:[t.jsxs(s,{width:"100%",gap:1,children:[t.jsx(W,{label:`${i("affiliate.trader.rebates")} (USDC)`,className:"oui-text-xs oui-text-base-contrast-54 oui-flex-1 oui-min-w-[105px]",children:t.jsx(u,{size:"sm",intensity:80,children:_(e.item.referee_rebate,{fix:6,fallback:"0",padEnd:!0,prefix:"$"})})}),t.jsx(W,{label:`${i("affiliate.trader.tradingVol")} (USDC)`,className:"oui-text-xs oui-text-base-contrast-54 oui-flex-shrink",children:t.jsx(u,{size:"sm",intensity:80,children:_(e.item.vol,{fix:2,fallback:"0",padEnd:!0,prefix:"$"})})}),t.jsx(W,{label:i("common.date"),className:"oui-text-xs oui-text-base-contrast-54 oui-flex-1",align:"end",children:t.jsx(u.formatted,{size:"sm",intensity:80,formatString:"yyyy-MM-dd",children:e.item.date})})]}),t.jsx(U,{className:"oui-w-full oui-mt-3"})]})},Ni=()=>{let[e,i]=f.useState({from:v(new Date,90),to:v(new Date,1)}),{data:a,isLoading:n}=Pe({startDate:e==null?void 0:e.from,endDate:e==null?void 0:e.to}),{data:r}=Ae({startDate:e==null?void 0:e.to,endDate:e==null?void 0:e.from}),l=f.useMemo(()=>typeof a>"u"?[]:a.map(p=>{var c;let g=p.date,m=(c=r==null?void 0:r.filter(w=>Pt(J(g),J(w.date))))==null?void 0:c[0];return m?{...p,vol:m.perp_volume}:p}),[a,r]),o;((l==null?void 0:l.length)||0)>0&&(o=Tt(l==null?void 0:l[0].date));let{pagination:x,setPage:d}=se();return f.useEffect(()=>{d(1)},[e]),{dateRange:e,setDateRange:i,displayDate:o,dataSource:l,pagination:x,isLoading:n}},Ci=()=>{let e=Ni();return t.jsx(wi,{...e})},et=()=>t.jsxs(s,{id:"oui-affiliate-trader-page",className:C("oui-h-lvw oui-w-full","oui-font-semibold"),direction:"column",gap:4,children:[t.jsxs(s,{width:"100%",gap:4,className:"oui-flex oui-flex-col xl:oui-flex-row xl:oui-items-stretch",children:[t.jsx(mi,{}),t.jsx(ji,{})]}),t.jsx(Ci,{})]}),_i=e=>{var r;let{t:i}=j(),{generateCode:a}=k();if(typeof e.overwrite=="function")return(r=e.overwrite)==null?void 0:r.call(e,e.state);let n=f.useMemo(()=>a?a.requireVolume>0?{title:i("affiliate.process.step1.volumeGt0.title",{requireVolume:a.requireVolume}),desc:i("affiliate.process.step1.volumeGt0.description",{volume:ge(a.completedVolume??0,2),requireVolume:ge(a.requireVolume)})}:{title:i("affiliate.process.step1.volumeEq0.title"),desc:i("affiliate.process.step1.volumeEq0.description")}:{title:i("affiliate.process.step1.title"),desc:i("affiliate.process.step1.description")},[a,i]);return t.jsxs(s,{id:"oui-affiliate-home-becomeAffiliate",direction:"column",gap:6,p:6,itemAlign:"center",r:"2xl",className:"oui-bg-base-9",width:"100%",children:[t.jsx(u,{children:i("affiliate.process.title")}),t.jsxs(s,{className:"oui-flex oui-flex-col lg:oui-flex-row oui-gap-3 lg:oui-items-stretch lg:oui-w-full",children:[t.jsx(ie,{icon:t.jsx(Mi,{}),title:n.title,content:n.desc}),t.jsx("div",{className:"oui-flex-shrink lg:-oui-rotate-90 lg:oui-flex lg:oui-flex-row lg:oui-items-center lg:oui-justify-center",children:t.jsx(Me,{})}),t.jsx(ie,{icon:t.jsx(Ai,{}),title:i("affiliate.process.step2.title"),content:i("affiliate.process.step2.description")}),t.jsx("div",{className:"oui-flex-shrink lg:-oui-rotate-90 lg:oui-flex lg:oui-flex-row lg:oui-items-center lg:oui-justify-center",children:t.jsx(Me,{})}),t.jsx(ie,{icon:t.jsx(Di,{}),title:i("affiliate.process.step3.title"),content:i("affiliate.process.step3.description")})]})]})},ie=e=>t.jsxs(s,{className:C("oui-flex oui-flex-row oui-gap-3","lg:oui-flex-col lg:oui-gap-[6px] lg:oui-flex-1"),width:"100%",children:[t.jsx("div",{className:"oui-flex-shrink-0",children:e.icon}),t.jsxs(s,{className:C("oui-flex oui-flex-col oui-items-start oui-h-full oui-justify-between","lg:oui-items-center lg:oui-justify-start"),children:[t.jsx(u,{className:"oui-text-sm md:oui-text-base 2xl:oui-text-lg lg:oui-text-center",children:e.title}),t.jsx(u,{className:"oui-text-2xs oui-text-base-contrast-36  lg:oui-text-center",children:e.content})]})]}),Mi=()=>t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"lg:oui-w-[64px] lg:oui-h-[64px] 2xl:oui-w-[80px] 2xl:oui-h-[80px]",children:[t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.941 5.4h-6.682a.6.6 0 0 0-.593.509l-.462 3a.6.6 0 0 0 .593.691h7.606a.6.6 0 0 0 .593-.691l-.462-3a.6.6 0 0 0-.593-.509m-6.682-1.8a2.4 2.4 0 0 0-2.372 2.035l-.462 3a2.4 2.4 0 0 0 2.372 2.765h7.606a2.4 2.4 0 0 0 2.372-2.765l-.462-3A2.4 2.4 0 0 0 24.941 3.6z",fill:"#fff",fillOpacity:".36"}),t.jsx("path",{d:"M32.721 28.2c.924-1.6 3.233-1.6 4.157 0l7.275 12.6c.924 1.6-.231 3.6-2.079 3.6H27.525c-1.848 0-3.002-2-2.078-3.6z",fill:"#335FFC"}),t.jsx("path",{d:"M33.492 38.12H31.56c-.252 0-.426-.276-.336-.535l1.92-5.53a.4.4 0 0 1 .132-.185.34.34 0 0 1 .204-.07h3.24c.255 0 .43.284.333.544l-1.118 3.011h2.104c.31 0 .475.4.27.656l-5.158 6.453c-.251.313-.716.041-.619-.362z",fill:"#fff",fillOpacity:".98"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4 16.8v2.4h2.4v-2.4zM13.2 15a.6.6 0 0 0-.6.6v4.8a.6.6 0 0 0 .6.6H18a.6.6 0 0 0 .6-.6v-4.8a.6.6 0 0 0-.6-.6z",fill:"#fff",fillOpacity:".36"}),t.jsx("path",{d:"M20.4 16.2a.6.6 0 0 1 .6-.6h2.4a.6.6 0 0 1 .6.6v.6a.6.6 0 0 1-.6.6H21a.6.6 0 0 1-.6-.6zm0 3a.6.6 0 0 1 .6-.6h9a.6.6 0 0 1 .6.6v.6a.6.6 0 0 1-.6.6h-9a.6.6 0 0 1-.6-.6zm-7.8 5.4a.6.6 0 0 1 .6-.6H30a.6.6 0 0 1 .6.6v.6a.6.6 0 0 1-.6.6H13.2a.6.6 0 0 1-.6-.6zm0 3.6a.6.6 0 0 1 .6-.6H30a.6.6 0 0 1 .6.6v.6a.6.6 0 0 1-.6.6H13.2a.6.6 0 0 1-.6-.6zm0 3.6a.6.6 0 0 1 .6-.6h9a.6.6 0 0 1 .6.6v.6a.6.6 0 0 1-.6.6h-9a.6.6 0 0 1-.6-.6z",fill:"#fff",fillOpacity:".36"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.739 6.6H10.2A2.4 2.4 0 0 0 7.8 9v30a2.4 2.4 0 0 0 2.4 2.4h13.84l1.014-1.8H10.2a.6.6 0 0 1-.6-.6V9a.6.6 0 0 1 .6-.6h5.262zm12 1.8H33a.6.6 0 0 1 .6.6v16.47a2.8 2.8 0 0 1 1.8-.205V9A2.4 2.4 0 0 0 33 6.6h-5.538z",fill:"#fff",fillOpacity:".36"})]}),Ai=()=>t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"lg:oui-w-[64px] lg:oui-h-[64px] 2xl:oui-w-[80px] 2xl:oui-h-[80px]",children:[t.jsx("path",{d:"M24 33a9 9 0 1 1-18 0 9 9 0 0 1 18 0",fill:"#335FFC"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 32.4a1.8 1.8 0 1 0 0-3.6 1.8 1.8 0 0 0 0 3.6m0 1.8a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2m-6.578 4.942A4.8 4.8 0 0 1 13.2 34.8h3.6a4.8 4.8 0 0 1 4.778 4.342 9 9 0 0 1-1.778 1.473V39.6a3 3 0 0 0-3-3h-3.6a3 3 0 0 0-3 3v1.015a9 9 0 0 1-1.778-1.473",fill:"#fff",fillOpacity:".98"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2 12a4.2 4.2 0 1 1-8.4 0 4.2 4.2 0 0 1 8.4 0m1.8 0c0 1.37-.459 2.632-1.231 3.642l2.308 2.308a7.76 7.76 0 0 1 4.023-1.7v-.764A3.602 3.602 0 0 1 24 8.4a3.6 3.6 0 0 1 .9 7.087v.764c1.48.17 2.833.754 3.942 1.633l2.326-2.326a6 6 0 1 1 1.273 1.273l-2.326 2.326a7.76 7.76 0 0 1 1.634 3.943h.764a3.602 3.602 0 0 1 7.087.9 3.6 3.6 0 0 1-7.087.9h-.764a7.76 7.76 0 0 1-1.699 4.023l2.308 2.308a6 6 0 1 1-1.25 1.295l-2.347-2.347a7.8 7.8 0 0 1-3.05 1.433 11 11 0 0 0-.377-1.76 6 6 0 1 0-7.185-7.185q-.855-.261-1.76-.379a7.8 7.8 0 0 1 1.432-3.049l-2.347-2.347A6 6 0 1 1 18 12m7.8 0a1.8 1.8 0 1 1-3.6 0 1.8 1.8 0 0 1 3.6 0M36 25.8a1.8 1.8 0 1 0 0-3.6 1.8 1.8 0 0 0 0 3.6m0-9.6a4.2 4.2 0 1 0 0-8.4 4.2 4.2 0 0 0 0 8.4M40.2 36a4.2 4.2 0 1 1-8.4 0 4.2 4.2 0 0 1 8.4 0",fill:"#fff",fillOpacity:".36"})]}),Di=()=>t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"lg:oui-w-[64px] lg:oui-h-[64px] 2xl:oui-w-[80px] 2xl:oui-h-[80px]",children:[t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 24a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8m0 1.8a4.2 4.2 0 1 0 0-8.4 4.2 4.2 0 0 0 0 8.4",fill:"#fff",fillOpacity:".36"}),t.jsx("path",{d:"M45 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0",fill:"#335FFC"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.1 6.6a.9.9 0 1 1 1.8 0v.437A3 3 0 0 1 39 9.9h-1.8a1.2 1.2 0 1 0-1.2 1.2 3 3 0 0 1 .9 5.863v.437a.9.9 0 0 1-1.8 0v-.437A3 3 0 0 1 33 14.1h1.8a1.2 1.2 0 1 0 1.2-1.2 3 3 0 0 1-.9-5.863z",fill:"#fff",fillOpacity:".98"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.2 23.7a.9.9 0 0 1 1.8 0v.6q0 .045-.004.086c-.197 9.351-7.525 16.948-16.765 17.573l1.205 1.205a.9.9 0 1 1-1.272 1.272l-2.7-2.7a.9.9 0 0 1 0-1.272l2.7-2.7a.9.9 0 1 1 1.272 1.272l-1.11 1.11c8.325-.674 14.87-7.642 14.874-16.14zM21.564 4.836a.9.9 0 1 1 1.272-1.272l2.7 2.7a.9.9 0 0 1 0 1.272l-2.7 2.7a.9.9 0 1 1-1.272-1.272l1.11-1.11C14.347 8.528 7.8 15.5 7.8 24v.3a.9.9 0 1 1-1.8 0v-.6l.004-.086C6.201 14.263 13.53 6.666 22.77 6.042z",fill:"#fff",fillOpacity:".36"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 11.4q.615 0 1.213.058a11 11 0 0 0 .061 1.816Q24.647 13.2 24 13.2c-5.965 0-10.8 4.835-10.8 10.8 0 2.898 1.142 5.53 3 7.47a4.8 4.8 0 0 1 4.8-4.79h6a4.8 4.8 0 0 1 4.8 4.789c1.858-1.94 3-4.572 3-7.47q0-.647-.074-1.274a11 11 0 0 0 1.816.06q.057.6.058 1.214c0 6.959-5.641 12.6-12.6 12.6S11.4 30.959 11.4 24 17.041 11.4 24 11.4m6 21.581v-1.5a3 3 0 0 0-3-3h-6a3 3 0 0 0-3 3v1.5a10.75 10.75 0 0 0 6 1.819c2.22 0 4.284-.67 6-1.819",fill:"#fff",fillOpacity:".36"})]}),Me=()=>t.jsx("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8.5048 4.00806C8.8728 4.00806 9.1708 4.30626 9.1708 4.67406C9.1708 4.99259 9.1708 8.71739 9.1708 9.71072L11.1688 7.73339L12.1055 8.67005L8.98346 11.8127C8.85346 11.9434 8.6788 12.0081 8.50413 12.0081C8.33013 12.0081 8.15612 11.9427 8.02612 11.8127L4.90413 8.67005L5.8408 7.73339L7.83881 9.71072C7.83881 8.71739 7.83881 4.99259 7.83881 4.67406C7.83881 4.30626 8.1368 4.00806 8.5048 4.00806Z",fill:"#608CFF"})}),ki=()=>{var i,a;let e=k();return{overwrite:(a=(i=e.overwrite)==null?void 0:i.ref)==null?void 0:a.step,state:e}},Si=()=>{let e=ki();return t.jsx(_i,{...e})},Li=e=>t.jsx("div",{id:"oui-affiliate-home-title",className:"oui-text-3xl md:oui-text-3xl lg:oui-text-4xl xl:oui-text-5xl oui-font-bold oui-text-center",children:t.jsx(Ue,{i18nKey:"affiliate.page.title",values:{shortBrokerName:e.shortBrokerName},components:[t.jsx("span",{className:"oui-gradient-brand oui-text-transparent oui-bg-clip-text",style:{"--oui-gradient-angle":"270deg"}})]})}),Ri=()=>{let{overwrite:e}=k();return{shortBrokerName:(e==null?void 0:e.shortBrokerName)||"Orderly"}},Ti=()=>{let e=Ri();return t.jsx(Li,{...e})},Oi=e=>{let{t:i}=j();return t.jsxs(s,{id:"oui-affiliate-home-subtitle",direction:"column",className:"oui-text-sm md:oui-text-base xl:oui-text-lg oui-text-base-contrast-80 oui-text-center",gap:3,children:[t.jsx(u,{children:i("affiliate.page.subTitle")}),t.jsxs(s,{direction:"row",gap:1,className:"oui-text-primary-light oui-fill-primary-light hover:oui-text-primary-darken oui-cursor-pointer oui-text-2xs md:oui-text-xs xl:oui-text-sm",onClick:a=>{var n;e.onLearnAffiliate?(n=e.onLearnAffiliate)==null||n.call(e):e.learnAffiliateUrl&&window.open(e.learnAffiliateUrl,"_blank")},children:[t.jsx(u,{children:i("affiliate.page.learnMore")}),t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M4.008 7.995c0-.368.298-.666.666-.666H9.71L7.733 5.331l.937-.936 3.143 3.122c.13.13.195.304.195.479a.67.67 0 0 1-.195.478L8.67 11.596l-.937-.937 1.978-1.998H4.674a.666.666 0 0 1-.666-.666"})})]})]})},Pi=()=>{let e=k(),{onLearnAffiliate:i,learnAffiliateUrl:a}=e;return{onLearnAffiliate:i,learnAffiliateUrl:a}},Ii=()=>{let e=Pi();return t.jsx(Oi,{...e})},zi=e=>{var i;return e.overwriteTop!==void 0?(i=e.overwriteTop)==null?void 0:i.call(e,e.state):t.jsxs(s,{id:"oui-affiliate-home-top",direction:"column",gap:6,children:[t.jsx(Ti,{}),t.jsx(Ii,{})]})},Ei=()=>{var i,a;let e=k();return{overwriteTop:(a=(i=e.overwrite)==null?void 0:i.ref)==null?void 0:a.top,state:e}},$i=()=>{let e=Ei();return t.jsx(zi,{...e})},tt=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"white",fillOpacity:"0.98",xmlns:"http://www.w3.org/2000/svg",className:e.className,children:t.jsx("path",{d:"M4.00806 7.9952C4.00806 7.6272 4.30626 7.3292 4.67406 7.3292C4.99259 7.3292 8.71739 7.3292 9.71072 7.3292L7.73339 5.3312L8.67005 4.39453L11.8127 7.51654C11.9434 7.64654 12.0081 7.8212 12.0081 7.99587C12.0081 8.16987 11.9427 8.34388 11.8127 8.47388L8.67005 11.5959L7.73339 10.6592L9.71072 8.66119C8.71739 8.66119 4.99259 8.66119 4.67406 8.66119C4.30626 8.66119 4.00806 8.3632 4.00806 7.9952Z"})}),Ui=e=>{let{t:i}=j();return t.jsxs(s,{id:"oui-affiliate-home-asAnAffiliate",gradient:"primary",r:"2xl",p:6,gap:6,direction:"column",angle:180,width:"100%",justify:"between",children:[t.jsxs(s,{height:80,direction:"row",gap:3,itemAlign:"start",width:"100%",justify:"between",children:[t.jsxs(s,{direction:"column",itemAlign:"start",justify:"between",className:"oui-h-full",children:[t.jsx(u,{className:"oui-text-lg md:oui-text-xl lg:oui-text-2xl xl:oui-text-3xl",children:e.isAffiliate?i("common.affiliate"):i("affiliate.asAffiliate.title")}),t.jsx(u,{className:C("oui-text-xs md:oui-text-sm 2xl:oui-text-base oui-text-base-contrast-54",e.isAffiliate&&"oui-hidden"),children:i("affiliate.asAffiliate.description")})]}),t.jsx("div",{className:"oui-flex-shrink-0",children:t.jsx(Vi,{})})]}),t.jsx(Hi,{...e})]})},Vi=()=>t.jsxs("svg",{width:"72",height:"72",viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"xl:oui-w-[90px] xl:oui-h-[90px]",children:[t.jsx("path",{d:"M35.997 5.86c-16.569 0-29.944 13.43-30 30-.056 16.545 13.445 30.06 30 30.093s30.03-13.665 30-30.093c-.03-16.57-13.432-30-30-30m0 6c13.255 0 24 10.746 24 24 0 6.75-2.812 12.834-7.297 17.196-2.209-4.78-6.955-8.196-12.39-8.196h-8.626c-5.432 0-10.164 3.375-12.375 8.157-4.485-4.362-7.312-10.407-7.312-17.157 0-13.254 10.745-24 24-24m0 6c-6.628 0-12 5.373-12 12s5.372 12 12 12c6.627 0 12-5.373 12-12s-5.373-12-12-12",fill:"#fff",fillOpacity:".2"}),t.jsx("path",{d:"M72 57c0 8.284-6.716 15-15 15s-15-6.716-15-15 6.716-15 15-15 15 6.716 15 15",fill:"#1828C3"}),t.jsx("path",{d:"M53.624 51.45a4.125 4.125 0 0 0-4.125 4.125c0 2.388 1.36 4.641 3.61 6.703a21 21 0 0 0 2.414 1.875c.287.194.556.37.797.516.147.089.243.154.304.187a.79.79 0 0 0 .75 0c.061-.033.158-.098.305-.187.24-.147.51-.322.797-.516a21 21 0 0 0 2.414-1.875c2.25-2.062 3.61-4.315 3.61-6.703a4.125 4.125 0 0 0-4.126-4.125c-1.294 0-2.557.705-3.351 1.734-.775-1.047-2.034-1.734-3.399-1.734",fill:"#fff",fillOpacity:".98"})]}),Hi=e=>{let{t:i}=j();return t.jsx(s,{direction:"row",justify:"between",width:"100%",itemAlign:"end",children:(()=>{var a,n;if(e.isAffiliate&&!e.wrongNetwork){let r=(n=(a=e.referralInfo)==null?void 0:a.referrer_info)==null?void 0:n.total_referrer_rebate;return t.jsxs(t.Fragment,{children:[t.jsxs(s,{direction:"column",itemAlign:"start",gap:2,children:[t.jsxs(u,{className:"oui-text-2xs md:oui-text-xs xl:oui-text-sm",children:[i("affiliate.commission")," ",t.jsx(u,{intensity:36,children:"(USDC)"})]}),t.jsxs(s,{direction:"row",gap:1,children:[t.jsx(Y,{}),t.jsx(u,{className:"oui-text-base md:oui-text-lg lg:oui-text-xl xl:oui-text-2xl",children:_(r,{fix:2,fallback:"0"})})]})]}),t.jsxs(s,{direction:"row",gap:1,justify:"end",itemAlign:"center",className:"oui-cursor-pointer",onClick:l=>{var o;(o=e.onEnterAffiliatePage)==null||o.call(e,e.referralInfo)},children:[t.jsx(u,{className:"oui-text-sm md:oui-text-base xl:oui-text-lg",children:i("affiliate.enter")}),t.jsx(tt,{className:"md:oui-w-[18px] md:oui-h-[18px] lg:oui-w-[20px] lg:oui-h-[20px] xl:oui-w-[24px] xl:oui-h-[24px]"})]})]})}return t.jsxs(t.Fragment,{children:[t.jsx(oe,{content:e.wrongNetwork?i("connector.wrongNetwork.tooltip"):i("affiliate.connectWallet.tooltip"),children:e.isMobile?t.jsx(L,{variant:"contained",color:"light",onClick:r=>{var l;!e.isSignIn||e.wrongNetwork?(r.stopPropagation(),r.preventDefault(),$.alert({title:i("common.tips"),message:t.jsx(u,{intensity:54,children:e.wrongNetwork?i("connector.wrongNetwork.tooltip"):i("affiliate.connectWallet.tooltip")})})):(l=e.becomeAnAffiliate)==null||l.call(e)},className:!e.isSignIn||e.wrongNetwork?"oui-bg-white/[.54] oui-text-black/[.36] hover:oui-bg-white/[.54]":void 0,children:i("affiliate.asAffiliate.button")}):t.jsx(L,{variant:"contained",color:"light",onClick:e.becomeAnAffiliate,disabled:!e.isSignIn||e.wrongNetwork,children:i("affiliate.asAffiliate.button")})}),t.jsxs(s,{direction:"column",justify:"between",className:"oui-h-full",itemAlign:"end",children:[t.jsx(u,{className:"oui-text-base md:oui-text-lg lg:oui-text-xl 2xl:oui-text-2xl",children:"40%~60%"}),t.jsx(u,{className:"oui-text-2xs md:oui-text-xs 2xl:oui-text-sm oui-text-base-contrast-54",children:i("affiliate.commission")})]})]})})()})},Fi=()=>{let{isAffiliate:e,isLoading:i,referralInfo:a,becomeAnAffiliateUrl:n,setShowHome:r,setTab:l,wrongNetwork:o,disabledConnect:x}=k(),{state:d}=re(),p=!x&&(d.status===G.EnableTrading||d.status===G.EnableTradingWithoutConnected),g=()=>{window.open(n,"_blank")},m=()=>{l("affiliate"),r(!1)},{isMobile:c}=Ee();return{isSignIn:p,isAffiliate:e,isLoading:i,referralInfo:a,onEnterAffiliatePage:m,becomeAnAffiliate:g,wrongNetwork:o,isMobile:c}},Bi=()=>{let e=Fi();return t.jsx(Ui,{...e})},Zi=e=>{let{t:i}=j();return t.jsxs(s,{id:"oui-affiliate-home-asTrader",gradient:"success",r:"2xl",p:6,gap:6,direction:"column",angle:180,width:"100%",justify:"between",children:[t.jsxs(s,{height:80,direction:"row",gap:3,itemAlign:"start",width:"100%",justify:"between",children:[t.jsxs(s,{direction:"column",itemAlign:"start",justify:"between",className:"oui-h-full",children:[t.jsx(u,{className:"oui-text-lg md:oui-text-xl lg:oui-text-2xl xl:oui-text-3xl",children:e.isTrader?i("affiliate.trader"):i("affiliate.asTrader.title")}),t.jsx(u,{className:C("oui-text-xs md:oui-text-sm 2xl:oui-text-base oui-text-base-contrast-54",e.isTrader&&"oui-hidden"),children:i("affiliate.asTrader.description")})]}),t.jsx("div",{className:"oui-flex-shrink-0",children:t.jsx(qi,{})})]}),t.jsx(Wi,{...e})]})},qi=()=>t.jsxs("svg",{width:"72",height:"72",viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"xl:oui-w-[90px] xl:oui-h-[90px] ",children:[t.jsx("path",{d:"M44.996 7.324c-20.71 0-37.43 16.79-37.5 37.5-.07 20.682 16.806 37.575 37.5 37.617 20.694.04 37.537-17.082 37.5-37.617-.037-20.71-16.79-37.5-37.5-37.5m0 7.5c16.569 0 30 13.433 30 30 0 8.438-3.514 16.043-9.12 21.495-2.762-5.973-8.694-10.245-15.49-10.245h-10.78c-6.791 0-12.706 4.22-15.47 10.197-5.606-5.453-9.14-13.01-9.14-21.447 0-16.567 13.431-30 30-30m0 7.5c-8.284 0-15 6.717-15 15s6.716 15 15 15 15-6.716 15-15-6.716-15-15-15",fill:"#fff",fillOpacity:".2"}),t.jsx("path",{d:"M90 71.25C90 81.605 81.605 90 71.25 90S52.5 81.605 52.5 71.25 60.895 52.5 71.25 52.5 90 60.895 90 71.25",fill:"#005A4F"}),t.jsx("path",{d:"M80.62 75.007c0-.24-.08-.49-.263-.675l-3.487-3.456-1.318 1.318 1.845 1.875H63.745a.938.938 0 0 0 0 1.875h13.652l-1.845 1.875 1.318 1.318 3.487-3.456a.95.95 0 0 0 .263-.674m-.937-7.5a.94.94 0 0 0-.938-.938H65.093l1.846-1.875-1.319-1.318-3.486 3.456a.966.966 0 0 0 0 1.349l3.486 3.456 1.319-1.318-1.846-1.875h13.652c.518 0 .938-.42.938-.937",fill:"#fff",fillOpacity:".98"})]}),Wi=e=>{let{t:i}=j();return t.jsx(s,{direction:"row",justify:"between",width:"100%",itemAlign:"end",children:(()=>{var a,n;if(e.isTrader&&!e.wrongNetwork){let r=(n=(a=e.referralInfo)==null?void 0:a.referee_info)==null?void 0:n.total_referee_rebate;return t.jsxs(t.Fragment,{children:[t.jsxs(s,{direction:"column",itemAlign:"start",gap:2,children:[t.jsxs(u,{className:"oui-text-2xs md:oui-text-xs xl:oui-text-sm",children:[i("affiliate.commission")," ",t.jsx(u,{intensity:36,children:"(USDC)"})]}),t.jsxs(s,{direction:"row",gap:1,children:[t.jsx(Y,{}),t.jsx(u,{className:"oui-text-base md:oui-text-lg lg:oui-text-xl xl:oui-text-2xl",children:_(r,{fix:2,fallback:"0"})})]})]}),t.jsxs(s,{direction:"row",gap:1,justify:"end",itemAlign:"center",className:"oui-cursor-pointer",onClick:l=>{var o;(o=e==null?void 0:e.onEnterTraderPage)==null||o.call(e)},children:[t.jsx(u,{className:"oui-text-sm md:oui-text-base xl:oui-text-lg",children:i("affiliate.enter")}),t.jsx(tt,{className:"md:oui-w-[18px] md:oui-h-[18px] lg:oui-w-[20px] lg:oui-h-[20px] xl:oui-w-[24px] xl:oui-h-[24px]"})]})]})}return t.jsxs(t.Fragment,{children:[t.jsx(Gi,{...e}),t.jsxs(s,{direction:"column",justify:"between",className:"oui-h-full",itemAlign:"end",children:[t.jsx(u,{className:"oui-text-base md:oui-text-lg lg:oui-text-xl 2xl:oui-text-2xl",children:"0%~20%"}),t.jsx(u,{className:"oui-text-2xs md:oui-text-xs 2xl:oui-text-sm oui-text-base-contrast-54",children:i("affiliate.trader.rebate")})]})]})})()})},Gi=e=>{let{t:i}=j();return t.jsxs(Se,{open:e.open,onOpenChange:e.setOpen,children:[t.jsx(ht,{children:t.jsx(oe,{content:e.wrongNetwork?i("connector.wrongNetwork.tooltip"):i("affiliate.connectWallet.tooltip"),children:e.isMobile?t.jsx(L,{variant:"contained",color:"light",onClick:a=>{(!e.isSignIn||e.wrongNetwork)&&(a.stopPropagation(),a.preventDefault(),$.alert({title:i("common.tips"),message:t.jsx(u,{intensity:54,children:e.wrongNetwork?i("connector.wrongNetwork.tooltip"):i("affiliate.connectWallet.tooltip")})}))},className:!e.isSignIn||e.wrongNetwork?"oui-bg-white/[.54] oui-text-black/[.36] hover:oui-bg-white/[.54]":void 0,children:i("affiliate.asTrader.button")}):t.jsx(L,{variant:"contained",color:"light",disabled:!e.isSignIn||e.wrongNetwork,children:i("affiliate.asTrader.button")})})}),t.jsxs(Le,{className:"oui-w-[320px] oui-font-semibold",children:[t.jsx(pt,{children:t.jsx(Re,{children:i("affiliate.referralCode.dialog.title")})}),t.jsx(U,{}),t.jsxs(gt,{children:[t.jsx(u,{size:"sm",intensity:54,children:i("affiliate.referralCode.dialog.description")}),t.jsx(ke,{className:"oui-w-full oui-mt-4",placeholder:i("affiliate.referralCode"),value:e.code,onChange:a=>{let n=a.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");e.setCode(n)},formatters:[X.createRegexInputFormatter(a=>String(a).replace(/[a-z]/g,n=>n.toUpperCase())),X.createRegexInputFormatter(/[^A-Z0-9]/g)],onClean:()=>{e.setCode("")},label:i("affiliate.referralCode.label"),classNames:{label:"oui-text-2xs oui-text-base-contrast-54"},helpText:!e.isExist&&!e.isLoading&&e.code.length>0?i("affiliate.referralCode.notExist"):void 0,color:!e.isExist&&!e.isLoading&&e.code.length>0?"danger":void 0}),t.jsx(s,{itemAlign:"center",width:"100%",direction:"row",justify:"center",mt:6,children:t.jsx(L,{variant:"contained",color:"primary",size:"md",className:"oui-px-[40px]",disabled:e.code.length<4||!e.isExist,onClick:a=>{a.stopPropagation(),e.onClickConfirm()},children:i("common.confirm")})})]})]})]})},Qi=()=>{let{t:e}=j(),{isTrader:i,referralInfo:a,setShowHome:n,bindReferralCodeState:r,setTab:l,mutate:o,wrongNetwork:x,disabledConnect:d}=k(),{state:p}=re(),g=!d&&(p.status===G.EnableTrading||p.status===G.EnableTradingWithoutConnected),m=()=>{l("trader"),n(!1)},[c,w]=f.useState(""),[h,M]=f.useState(!1),{isExist:A,error:T,isLoading:P}=mt(c),b=()=>{M(!1)},[S,{error:D,isMutating:ce}]=le("/v1/referral/bind","POST"),B=async()=>{try{await S({referral_code:c}),O.success(e("affiliate.referralCode.bound")),o(),r?r(!0,null,b,{tab:1}):b()}catch(V){let z=`${V}`;"message"in V&&(z=V.message),z==="referral code not exist"&&(z=e("affiliate.referralCode.notExist")),r?(O.error(z),r(!1,V,b,{})):O.error(z)}},{isMobile:Z}=Ee();return{isSignIn:g,isTrader:i,isLoading:P,referralInfo:a,onEnterTraderPage:m,code:c,setCode:w,open:h,setOpen:M,onClickConfirm:B,isExist:A,wrongNetwork:x,isMobile:Z}},Xi=()=>{let e=Qi();return t.jsx(Zi,{...e})},Ji=e=>{var i;return typeof e.overwrite=="function"?(i=e.overwrite)==null?void 0:i.call(e,e.state):t.jsxs(s,{id:"oui-affiliate-home-card",className:"oui-flex oui-flex-col xl:oui-flex-row oui-gap-6 xl:oui-gap-[36px] oui-w-full oui-items-stretch",children:[t.jsx(Bi,{}),t.jsx(Xi,{})]})},Ki=()=>{var i,a;let e=k();return{overwrite:(a=(i=e.overwrite)==null?void 0:i.ref)==null?void 0:a.card,state:e}},Yi=()=>{let e=Ki();return t.jsx(Ji,{...e})},ae=()=>t.jsxs(s,{id:"oui-affiliate-home-page",className:C("oui-h-lvw ","oui-font-semibold"),direction:"column",gap:4,children:[t.jsx($i,{}),t.jsx(Yi,{}),t.jsx(Si,{})]}),ea=e=>{var n,r,l,o;let{t:i}=j(),a=()=>{if(e.isAffiliate&&!e.isTrader)return t.jsxs(L,{variant:"contained",color:"success",size:"sm",className:"oui-px-2 oui-flex oui-gap-1",style:{position:"absolute",top:"50%",right:"24px",transform:"translateY(-50%)"},onClick:x=>{e.anATrader()},children:[t.jsx(ye,{}),t.jsx(u,{children:i("affiliate.asTrader.title")})]});if(!e.isAffiliate&&e.isTrader)return t.jsxs(L,{variant:"contained",color:"primary",size:"sm",className:"oui-px-2 oui-flex oui-gap-1",style:{position:"absolute",top:"50%",right:"24px",transform:"translateY(-50%)"},onClick:x=>{e.anAnAffiliate()},children:[t.jsx(be,{}),t.jsx(u,{children:i("affiliate.asAffiliate.title")})]})};return e.isLoading?t.jsx("div",{className:C("oui-max-w-[960px]",(n=e.classNames)==null?void 0:n.loadding),children:((r=e.splashPage)==null?void 0:r.call(e))||t.jsx(ae,{})}):!e.isAffiliate&&!e.isTrader||e.showHome?t.jsx("div",{className:C("oui-max-w-[960px]",(l=e==null?void 0:e.classNames)==null?void 0:l.home),children:t.jsx(ae,{})}):t.jsxs(ct,{id:"oui-affiliate-dashboard-tab",value:e.tab,onValueChange:x=>{e.setTab(x)},className:C("oui-w-full",(o=e.classNames)==null?void 0:o.dashboard),children:[t.jsxs(ut,{className:C("oui-px-6 oui-flex oui-flex-row oui-justify-start oui-h-[44px] oui-relative oui-items-end","oui-text-base md:oui-text-lg","oui-rounded-xl oui-bg-base-9","oui-border oui-border-line-6",e.isAffiliate&&e.isTrader&&"oui-justify-center"),children:[e.isAffiliate&&t.jsx(je,{id:"oui-affiliate-dashboard-tab-affiliate",value:"affiliate",children:t.jsxs(s,{direction:"row",gap:1,mb:2,children:[t.jsx(be,{fillOpacity:1,fill:"currentColor",className:e.tab==="affiliate"?"oui-fill-white/[.98]":"oui-fill-white/[.36]"}),t.jsx(u,{children:i("common.affiliate")})]})}),e.isTrader&&t.jsx(je,{id:"oui-affiliate-dashboard-tab-trader",value:"trader",children:t.jsxs(s,{direction:"row",gap:1,mb:2,children:[t.jsx(ye,{fillOpacity:1,fill:"currentColor",className:e.tab==="trader"?"oui-fill-white/[.98]":"oui-fill-white/[.36]"}),t.jsx(u,{children:i("affiliate.trader")})]})}),a()]}),e.isAffiliate&&t.jsx(we,{value:"affiliate",className:"oui-mt-4",children:t.jsx(Ke,{})}),e.isTrader&&t.jsx(we,{value:"trader",className:"oui-mt-4",children:t.jsx(et,{})})]})},ta=()=>{let{isAffiliate:e,isTrader:i,isLoading:a,becomeAnAffiliateUrl:n,onBecomeAnAffiliate:r,showReferralPage:l,splashPage:o,showHome:x,setShowHome:d,tab:p,setTab:g}=k(),m=f.useMemo(()=>e&&i?p:e&&!i?"affiliate":!e&&i?"trader":"affiliate",[p,e,i]);return f.useEffect(()=>{let c=new URLSearchParams(window.location.search).get("tab");c&&g(c)},[window.location.search]),{setTab:g,tab:m,isAffiliate:e,isTrader:i,isLoading:a,anAnAffiliate:()=>{d(!0)},anATrader:()=>{d(!0)},splashPage:o,showHome:x,setShowHome:d}},ia=e=>{let i=ta();return t.jsx(ea,{classNames:e.classNames,...i})},aa=e=>{let{classNames:i={}}=e,{root:a,...n}=i;return t.jsx("div",{id:"oui-affiliate-dashboard-page",className:C("oui-w-full oui-tracking-tight",a),children:t.jsx(ia,{classNames:n})})};const fa=()=>[{title:ot("Affiliate")}];function xa(){return t.jsx(_t,{becomeAnAffiliateUrl:"https://orderly.network",learnAffiliateUrl:"https://orderly.network",referralLinkUrl:typeof window<"u"?window.location.origin:"https://orderly.network",children:t.jsx(Ve.AffiliatePage,{})})}export{xa as default,fa as meta};
